<html>

<style>
html{
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
    font-size: 17px;
    display: table;
}
table,th,td {
  border: 1px solid black;
  width: 1200;
  text-align:justify;
  word-break:break-all;
}

th{
background-color: lightskyblue;
font-size: 16px;
border: none;
text-align:left;
}

td{
background-color: #d5e3c8;
font-size: 14px;
}

.container {
  position: relative;
  text-align:center;
  padding-top: 70%;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: 2px solid #73AD21;
}

</style>
<body>

<h2>Bug report Information</h2>
<table>

    <th colspan="2"> Bug Report </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bug Report Number </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 547591 </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Summary </td>
        <td  style="width: 80%; background-color:#f7fff0;"> Add failOnWarning (-Werror like) flag to the batch compiler </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Creation Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2019-05-23T12:59:32Z </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Status </td>
        <td  style="width: 80%; background-color:#f7fff0;"> VERIFIED </td>
    </tr>

    <th colspan="2"> Bug Fix </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bugfix Commit </td>
        <td  style="width: 80%; background-color:#f7fff0;"> Bug 548589 - [1.8][inference] Cannot infer type argument(s) for <R>
map(Function<? super T,? extends R>)

Change-Id: I4f583c8491f730858fcaa94d16494b78aa5cbb92
 </td>
    </tr>
    <tr>
        <td  tyle="width: 20%; background-color:#d5e3c8;"> Bugfix Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2019-06-25T10:53:15Z </td>
    </tr>
    </table>
<table>

<th colspan="2"> Ranked List of Class Diagrams </th>

<tr>
<td  style="width: 20%; font-size: 10px; background-color:#d5e3c8">

            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> CompilerToolTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> RunCompilerTests; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Compiler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverterJavadocTest; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BatchCompilerTest; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AbstractRegressionTest$JavacCompiler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> JDTCompilerAdapter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ReferenceExpression; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClasspathTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Factory; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AbstractRegressionTest$JavacTestOptions$Excuse; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> JavadocParser; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BuilderTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> DatabaseRef; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AbstractLeakTest; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> LambdaFactory; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AptConfig$ProcessorOptionsParser; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> CompilerToolJava9Tests$CompilerBuilder; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFileToIndexConverter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> EclipseCompiler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FieldInitsFakingFlowContext; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> StandAloneASTParserTest; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ModulePattern; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Database; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AbstractCompilerToolTest$CompilerInvocationTestsArguments; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ReconcileFilerImpl; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Disassembler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BuildNotifier; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FormatterRegressionTests; </a> </li>
            </ul>   
            
</td>
<td  rowspan="30" style="width: 80%;  background-color:#d5e3c8"> 
    <div class="container">
    <iframe class="responsive-iframe" src="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" name="myIframe">
        <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html">SELFHTML</a>
    </iframe>
    </div>
</td>
</tr>
</table>
<table>

<th colspan="2"> Ranked List of Classifiers </th>

                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.compiler.tool.tests/Lorg/eclipse/jdt/compiler/tool/tests/CompilerToolTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/RunCompilerTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/Compiler; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/dom/ASTConverter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterJavadocTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; font-weight: bold; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/BatchCompilerTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest$JavacCompiler; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/CompilerInvocationTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/impl/CompilerOptions; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/JDTCompilerAdapter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/ast/ReferenceExpression; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/model/ClasspathTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTestJLS8; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/problem/ProblemReporter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter18Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JEP286Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; font-weight: bold; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/batch/Main; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.core/Lorg/eclipse/jdt/apt/core/internal/util/Factory; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/LambdaRegressionTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.compiler.tool.tests/Lorg/eclipse/jdt/compiler/tool/tests/CompilerToolJava9Tests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_9; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/RunOnly335CompilerTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/model/FactoryTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JavadocTestOptions; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/NullAnnotationBatchCompilerTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter10Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest$JavacTestOptions$Excuse; </td>
                </tr>

                </table>
<table>

<th colspan="2"> Discussion </th>

        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T12:59:32Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> As a prereq for Bug 547470 - Support maven.compiler.failOnWarning jdt.core batch compiler needs to gain -Werror like flag support so it treats warnings as errors. Javac already supports -Werror as it can be seen in https://github.com/codehaus-plexus/plexus-compiler/blob/master/plexus-compilers/plexus-compiler-javac/src/main/java/org/codehaus/plexus/compiler/javac/JavacCompiler.java#L334 .

My proposal would go for -err:warn to match the current naming but alias like -Werror would be really welcome as this is like a standard amongst other compilers  (javac, gcc, icc and probably others) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T13:29:20Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> +1
I guess you want to look around org.eclipse.jdt.internal.compiler.tool.Options. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T13:44:27Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #1)
> +1
> I guess you want to look around
> org.eclipse.jdt.internal.compiler.tool.Options.

Jay said that there is nothing for this right now https://www.eclipse.org/lists/jdt-dev/msg01185.html </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T13:49:13Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #2)
> (In reply to Andrey Loskutov from comment #1)
> > +1
> > I guess you want to look around
> > org.eclipse.jdt.internal.compiler.tool.Options.
> 
> Jay said that there is nothing for this right now
> https://www.eclipse.org/lists/jdt-dev/msg01185.html

Sure, I mean you have to dig around this class and see what need to be patched. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T13:50:04Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #3)
> (In reply to Alexander Kurtakov from comment #2)
> > (In reply to Andrey Loskutov from comment #1)
> > > +1
> > > I guess you want to look around
> > > org.eclipse.jdt.internal.compiler.tool.Options.
> > 
> > Jay said that there is nothing for this right now
> > https://www.eclipse.org/lists/jdt-dev/msg01185.html
> 
> Sure, I mean you have to dig around this class and see what need to be
> patched.

Ah, yeah, already familiarizing with it :) . </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T14:20:14Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I'm not perfectly sure, how exactly tycho invokes the compiler, but I'd suggest to start by looking at org.eclipse.jdt.internal.compiler.batch.Main.handleErrorOrWarningToken(String, boolean, int) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T14:24:43Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #5)
> I'm not perfectly sure, how exactly tycho invokes the compiler, but I'd
> suggest to start by looking at
> org.eclipse.jdt.internal.compiler.batch.Main.
> handleErrorOrWarningToken(String, boolean, int)

Thank you Stephan, that's really good starting point! </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T14:51:32Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #6)
> (In reply to Stephan Herrmann from comment #5)
> > I'm not perfectly sure, how exactly tycho invokes the compiler, but I'd
> > suggest to start by looking at
> > org.eclipse.jdt.internal.compiler.batch.Main.
> > handleErrorOrWarningToken(String, boolean, int)
> 
> Thank you Stephan, that's really good starting point!

You might also want to look at how we handle the -proceedOnError option in the same class and CompilerOptions.OPTION_FatalOptionalError, which does the same thing, but for errors. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T15:38:19Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/142677 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-23T15:40:48Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #8)
> New Gerrit change created: https://git.eclipse.org/r/142677

This is POC that is enough to make unused local variable treated as error when -err:warn is passed. Please give your comments and if/when the approach is OK I'll continue on documentation, tests and etc. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-25T10:38:02Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #9)
> (In reply to Eclipse Genie from comment #8)
> > New Gerrit change created: https://git.eclipse.org/r/142677
> 
> This is POC that is enough to make unused local variable treated as error
> when -err:warn is passed. Please give your comments and if/when the approach
> is OK I'll continue on documentation, tests and etc.

The solution is straight-forward, good. The syntax is OK, personally I'd prefer
  -err:warnings
or even
  -err:allWarnings
Either one would help to avoid confusion between the two sides of this option (is it -warn:err or -err:warn?).

Do we also accept -err:+warn? Etc.

At a closer look, in combination with other command line options this deserves some more words for examples like:

$ ecj -warn:+null -warn:+unused -err:warn -warn:-unusedImport -warn:+nls Foo.java

Would will be the severities for the mentioned problem groups?


When answering the above questions, we may still conclude that this introduces unnecessary complexity, and an option -failOnWarning would actually be simpler - and also consistent with -proceedOnError.

Implementing -failOnWarning would be a bit more involved, because tweaking the options would no longer suffice.

OTOH, -failOnWarning would have the huge advantage that warnings are still reported as warnings!

It's the last point that actually makes me change my mind: I don't like when warnings are reported as ERROR only for the sake of failing the build. Those should still be WARNING. Wouldn't it rather be the responsibility of tycho to fail the build when warnings were found? I'm sure, tycho will know when warnings have been reported?? Or is it a matter of return codes from compilation or such? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-27T09:39:03Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #10)
> (In reply to Alexander Kurtakov from comment #9)
> > (In reply to Eclipse Genie from comment #8)
> > > New Gerrit change created: https://git.eclipse.org/r/142677
> > 
> > This is POC that is enough to make unused local variable treated as error
> > when -err:warn is passed. Please give your comments and if/when the approach
> > is OK I'll continue on documentation, tests and etc.
> 
> The solution is straight-forward, good. The syntax is OK, personally I'd
> prefer
>   -err:warnings
> or even
>   -err:allWarnings

^^ fine with me. Will adjust accordingly.

> Either one would help to avoid confusion between the two sides of this
> option (is it -warn:err or -err:warn?).
> 
> Do we also accept -err:+warn? Etc.
> 
> At a closer look, in combination with other command line options this
> deserves some more words for examples like:
> 
> $ ecj -warn:+null -warn:+unused -err:warn -warn:-unusedImport -warn:+nls
> Foo.java
> 
> Would will be the severities for the mentioned problem groups?

In this case severity of unusedImport, null and nls will be turned into errors and unusedImport will stay as is (although it doesn't matter as it will be disabled). If I am misunderstanding your question please clarify .

> 
> 
> When answering the above questions, we may still conclude that this
> introduces unnecessary complexity, and an option -failOnWarning would
> actually be simpler - and also consistent with -proceedOnError.
> 
> Implementing -failOnWarning would be a bit more involved, because tweaking
> the options would no longer suffice.
> 
> OTOH, -failOnWarning would have the huge advantage that warnings are still
> reported as warnings!
> 
> It's the last point that actually makes me change my mind: I don't like when
> warnings are reported as ERROR only for the sake of failing the build. Those
> should still be WARNING. Wouldn't it rather be the responsibility of tycho
> to fail the build when warnings were found? I'm sure, tycho will know when
> warnings have been reported?? Or is it a matter of return codes from
> compilation or such?

Let's say that I'm looking to make ecj behave more like the other compilers around (gcc, javac) which has -Werror and report warnings as errors. That way other tools (not only tycho) that rely on -Werror like functionality will be able to use ecj without adding special cases for it.
One thing I noticed now is that both gcc and javac add a note to the build output like:
error: warnings found and -Werror specified (javac)
cc1: all warnings being treated as errors (gcc)
so similar note will be added to ECJ too.

Looking at javac output:
javac -Xlint:fallthrough -Werror TestJ.java 
TestJ.java:10: warning: [fallthrough] possible fall-through into case
		case 2:
		^
error: warnings found and -Werror specified
1 error
1 warning

It is quite misleading claiming writing out "warning" but claiming there is 1 error and 1 warning (at least I read it that way)

GCC is more straight forward:
gcc ./testc.c -Werror -Wunused-variable
./testc.c: In function �main�:
./testc.c:15:6: error: unused variable �a� [-Werror=unused-variable]
   15 |  int a = 5;
      |      ^
cc1: all warnings being treated as errors

Personally I prefer the gcc style as it clearly matches the "Make all warnings into errors." in their documentation.
Javac documented it as "Terminates compilation when warnings occur." with the unclear output. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T03:59:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I think for the purpose we started this for (bug 547470), reporting all warnings as errors seems an overkill. My preference would be to continue to report warnings as warnings but bail out when we first hit a warning or error.

And for the same reason, what Javac is doing seems to be sufficient, except don't call warnings as errors. Just say that there were warnings but compilation was stopped because of the option. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T12:48:54Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #12)
> I think for the purpose we started this for (bug 547470), reporting all
> warnings as errors seems an overkill. My preference would be to continue to
> report warnings as warnings but bail out when we first hit a warning or
> error.
> 
> And for the same reason, what Javac is doing seems to be sufficient, except
> don't call warnings as errors. Just say that there were warnings but
> compilation was stopped because of the option.

I generally agree. Remaining question: bail out on first problem or collect & report all of them and only then fail the build. I think the latter is more in line with normal behavior.

At this point let me ask again: does tycho need any change from JDT for such behavior? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T14:11:38Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #13)
> (In reply to Jay Arthanareeswaran from comment #12)
> > I think for the purpose we started this for (bug 547470), reporting all
> > warnings as errors seems an overkill. My preference would be to continue to
> > report warnings as warnings but bail out when we first hit a warning or
> > error.
> > 
> > And for the same reason, what Javac is doing seems to be sufficient, except
> > don't call warnings as errors. Just say that there were warnings but
> > compilation was stopped because of the option.
> 
> I generally agree. Remaining question: bail out on first problem or collect
> & report all of them and only then fail the build. I think the latter is
> more in line with normal behavior.
> 
> At this point let me ask again: does tycho need any change from JDT for such
> behavior?

Yes, JDT has to provide some argument which when passed to fail the build on warning. The reason for that is because the actual API for that is not even in tycho but in plexus-compilers (which is used by maven and etc.) so the chain becomes way too long to propagate a potential change (which is very likely to not be accepted in plexus-compiler at all as all other compiler provide -Werror). See https://git.eclipse.org/r/c/142664/2/tycho-compiler-jdt/src/main/java/org/eclipse/tycho/compiler/jdt/JDTCompiler.java for what we need to do in Tycho. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T19:40:21Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Hmm, in tycho's JDTCompiler.compileInProcess() you have a List<CompilerMessage>. Although I don't have class CompilerMessage (from plexus) at hand, I'm pretty sure that tycho can easily scan it for warnings and when found fail the build. No need to pass any new option to ecj.

What am I missing? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T19:58:57Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #15)
> Hmm, in tycho's JDTCompiler.compileInProcess() you have a
> List<CompilerMessage>. Although I don't have class CompilerMessage (from
> plexus) at hand, I'm pretty sure that tycho can easily scan it for warnings
> and when found fail the build. No need to pass any new option to ecj.
> 
> What am I missing?

For me the crucial part is JDTCompiler.java#351 where we have Main.compile gives tycho whether it's successful build or not. 
I really don't believe nor I'm willing to spend time to add/reimplement warnings scanning in Tycho for a so widespread feature like -Werror (which ecj lacks). 
If there is no interest in adding such support to ecj please close this bug as wontfix and I'll do the same for the tycho one. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T20:32:05Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #16)
> (In reply to Stephan Herrmann from comment #15)
> > Hmm, in tycho's JDTCompiler.compileInProcess() you have a
> > List<CompilerMessage>. Although I don't have class CompilerMessage (from
> > plexus) at hand, I'm pretty sure that tycho can easily scan it for warnings
> > and when found fail the build. No need to pass any new option to ecj.
> > 
> > What am I missing?
> 
> For me the crucial part is JDTCompiler.java#351 where we have Main.compile
> gives tycho whether it's successful build or not. 
> I really don't believe nor I'm willing to spend time to add/reimplement
> warnings scanning in Tycho

Iterating a list of CompilerMessage to find if any of them has severity >= Warning shouldn't be more than 3 lines of code, if you ask me. 1-liner using a stream.

> for a so widespread feature like -Werror (which ecj lacks). 

As you correctly reported in comment 11 already between gcc and javac there are two different options named "-Werror":
(1) turn all warnings to errors
(2) terminate when warnings occur

The way I understand gcc, that option is mainly relevant, because gcc doesn't seem to support the fine-grained support to configure severities that ecj already has: You can already turn each warning into an error. This is just saying that comparison between compilers is not a simple as you suggest.

Option (1) corresponds to your proposal in gerrit, but I prefer (2) and Jay seems to support that notion.

For (2) again two different interpretations exist:

(2.a) Fail early: make the first problem (error or warning) abort compilation

(2.b) Fail at end: this is what my comment 15 is about. Maybe this isn't even an issue of the compiler but only of build tools that want to abort *further* processing. Anyway this approach can be handled at either side:
- I'm convinced a 3-line fix in tycho is sufficient.
- If you prefer ecj to return false when any warning exist, this would be a fairly simple change in org.eclipse.jdt.internal.compiler.batch.Main, although more involved then the 3-liner, as it would also need to be integrated in option parsing, documentation etc. I wouldn't object a proposal implementing (and documenting) -failOnWarning in ecj (Main), which only affects the boolean result. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T21:08:22Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #17)
> (In reply to Alexander Kurtakov from comment #16)
> > (In reply to Stephan Herrmann from comment #15)
> > > Hmm, in tycho's JDTCompiler.compileInProcess() you have a
> > > List<CompilerMessage>. Although I don't have class CompilerMessage (from
> > > plexus) at hand, I'm pretty sure that tycho can easily scan it for warnings
> > > and when found fail the build. No need to pass any new option to ecj.
> > > 
> > > What am I missing?
> > 
> > For me the crucial part is JDTCompiler.java#351 where we have Main.compile
> > gives tycho whether it's successful build or not. 
> > I really don't believe nor I'm willing to spend time to add/reimplement
> > warnings scanning in Tycho
> 
> Iterating a list of CompilerMessage to find if any of them has severity >=
> Warning shouldn't be more than 3 lines of code, if you ask me. 1-liner using
> a stream.
> 
> > for a so widespread feature like -Werror (which ecj lacks). 
> 
> As you correctly reported in comment 11 already between gcc and javac there
> are two different options named "-Werror":
> (1) turn all warnings to errors
> (2) terminate when warnings occur
In the case of javac it's "report all warnings as both errors and warnings" so both compilers report warnings as errors and terminate. And one of them (javac) deciding to report both as warnings and errors but this doesn't change the fact that rest is common behavior.

> 
> The way I understand gcc, that option is mainly relevant, because gcc
> doesn't seem to support the fine-grained support to configure severities
> that ecj already has: You can already turn each warning into an error. This
> is just saying that comparison between compilers is not a simple as you
> suggest.
That's totally not true - gcc supports fine grained warnings (I don't want to go and say which one is finer grained as we speak for different languages and gcc has many that are only for given frontend (C++/Ada/ObjC/whatever). But every warning can be enabled/disabled as -Wwarning_name/-Wno-warning_name and turned into error via -Werror=warning_name. I just felt obliged to clear this misinformation here :).

> 
> Option (1) corresponds to your proposal in gerrit, but I prefer (2) and Jay
> seems to support that notion.
(1) is clearly what both javac and gcc do (with nuances of the *additional* things they do) 

> 
> For (2) again two different interpretations exist:
> 
> (2.a) Fail early: make the first problem (error or warning) abort compilation
(2.a) clearly makes no sense as it would be against every expectation a developer will have based on experience with other compilers and the output will most likely be totally useless to determine the actual problem as usually one needs all the errors to get the clear picture where to start to fix the issue proper.

> 
> (2.b) Fail at end: this is what my comment 15 is about. Maybe this isn't
> even an issue of the compiler but only of build tools that want to abort
> *further* processing. Anyway this approach can be handled at either side:
> - I'm convinced a 3-line fix in tycho is sufficient.
It may be sufficient but it's a plain workaround done at the wrong place due to lack of will to improve and make ecj easier to use in different environments. Let's say that for example someone adds this workaround in tycho and he is thrown at a project that uses e.g. gradle . In this case he won't be able to flip between javac/ecj as for javac the following will be sufficient:
tasks.withType(JavaCompile) {
            options.compilerArgs << "-Xlint:all" << "-Werror"
        }
but for ecj he would have to write a gradle plugin that iterates over the compiler messages (with entirely different api compared to his maven work) to add support for that. 
Do you see the problem with workaround put in tycho now? And why I insist on -Werror being an alias for whatever name ecj choses by default?

> - If you prefer ecj to return false when any warning exist, this would be a
> fairly simple change in org.eclipse.jdt.internal.compiler.batch.Main,
> although more involved then the 3-liner, as it would also need to be
> integrated in option parsing, documentation etc. I wouldn't object a
> proposal implementing (and documenting) -failOnWarning in ecj (Main), which
> only affects the boolean result. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T21:24:20Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Oh and putting the workaround in tycho's plexus-compiler implementation means it would have to be duplicated for the sake of maven-compiler-plugin in https://github.com/codehaus-plexus/plexus-compiler/tree/master/plexus-compilers/plexus-compiler-eclipse and pretty much every tool where failOnWarning/Werror option is available - no one will do the effort in so many places so CI builds will not use ecj as it is missing features (more of not exposing them for users actually). </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-28T22:52:09Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #18)
> (In reply to Stephan Herrmann from comment #17)
> > As you correctly reported in comment 11 already between gcc and javac there
> > are two different options named "-Werror":
> > (1) turn all warnings to errors
> > (2) terminate when warnings occur
> In the case of javac it's "report all warnings as both errors and warnings"

Wrong. Please add as second warning to your Java test class and you'll see: javac continues to report all warnings only as warnings, PLUS it reports ONE error: "warnings found and -Werror specified".

This is not what the gerrit implements.

> > Option (1) corresponds to your proposal in gerrit, but I prefer (2) and Jay
> > seems to support that notion.
> (1) is clearly what both javac and gcc do (with nuances of the *additional*
> things they do) 

gcc: yes, javac: no.
FWIW, I believe similarity to javac is more relevant than similarity to gcc.
(I readily admit that my gcc knowledge is 'rusty' to say the least).

> > For (2) again two different interpretations exist:
> > 
> > (2.a) Fail early: make the first problem (error or warning) abort compilation
> (2.a) clearly makes no sense as it would be against every expectation a
> developer will have based on experience with other compilers and the output
> will most likely be totally useless to determine the actual problem as
> usually one needs all the errors to get the clear picture where to start to
> fix the issue proper.

I wasn't actively promoting this, glad we cleared this up.

> > (2.b) Fail at end: this is what my comment 15 is about. Maybe this isn't
> > even an issue of the compiler but only of build tools that want to abort
> > *further* processing. Anyway this approach can be handled at either side:
> > - I'm convinced a 3-line fix in tycho is sufficient.
> It may be sufficient but it's a plain workaround done at the wrong place due
> to lack of will to improve and make ecj easier to use in different
> environments.

I was only putting the options on the table, and I still believe a change in tycho is the simplest thing. I didn't mean to say its the only solution.
Please remain fair and don't imply lack of will, just because I challenge your strategy.

> Let's say that for example someone adds this workaround in
> tycho and he is thrown at a project that uses e.g. gradle . In this case he
> won't be able to flip between javac/ecj as for javac the following will be
> sufficient:
> tasks.withType(JavaCompile) {
>             options.compilerArgs << "-Xlint:all" << "-Werror"
>         }
> but for ecj he would have to write a gradle plugin that iterates over the
> compiler messages (with entirely different api compared to his maven work)
> to add support for that. 
> Do you see the problem with workaround put in tycho now? And why I insist on
> -Werror being an alias for whatever name ecj choses by default?

Verbatim option compatibility between javac and ecj is a valuable wish, but it's not the reality. By this I'm only saying: if we add -failOnWarning to ecj, either gradle, or the user will still have to translate from one option syntax to the other. There is no free lunch (this starts at -Xlint vs. -warn, continues through the list of warning tokens, etc. pp.).
 
> > - If you prefer ecj to return false when any warning exist, this would be a
> > fairly simple change in org.eclipse.jdt.internal.compiler.batch.Main,
> > although more involved then the 3-liner, as it would also need to be
> > integrated in option parsing, documentation etc. I wouldn't object a
> > proposal implementing (and documenting) -failOnWarning in ecj (Main), which
> > only affects the boolean result.

No answer here? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-29T05:19:17Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #20)
> (In reply to Alexander Kurtakov from comment #18)
> > (In reply to Stephan Herrmann from comment #17)
> > > As you correctly reported in comment 11 already between gcc and javac there
> > > are two different options named "-Werror":
> > > (1) turn all warnings to errors
> > > (2) terminate when warnings occur
> > In the case of javac it's "report all warnings as both errors and warnings"
> 
> Wrong. Please add as second warning to your Java test class and you'll see:
> javac continues to report all warnings only as warnings, PLUS it reports ONE
> error: "warnings found and -Werror specified".
> 
> This is not what the gerrit implements.

I stand corrected here about javac behavior.

(snip)

> 
> I was only putting the options on the table, and I still believe a change in
> tycho is the simplest thing. I didn't mean to say its the only solution.
> Please remain fair and don't imply lack of will, just because I challenge
> your strategy.

Oh I didn't mean to not be fair it is the actual impression I get when propose patch to a project and get "do it in your own code". Challenging the strategy is always good.

> 
> > Let's say that for example someone adds this workaround in
> > tycho and he is thrown at a project that uses e.g. gradle . In this case he
> > won't be able to flip between javac/ecj as for javac the following will be
> > sufficient:
> > tasks.withType(JavaCompile) {
> >             options.compilerArgs << "-Xlint:all" << "-Werror"
> >         }
> > but for ecj he would have to write a gradle plugin that iterates over the
> > compiler messages (with entirely different api compared to his maven work)
> > to add support for that. 
> > Do you see the problem with workaround put in tycho now? And why I insist on
> > -Werror being an alias for whatever name ecj choses by default?
> 
> Verbatim option compatibility between javac and ecj is a valuable wish, but
> it's not the reality. By this I'm only saying: if we add -failOnWarning to
> ecj, either gradle, or the user will still have to translate from one option
> syntax to the other. There is no free lunch (this starts at -Xlint vs.
> -warn, continues through the list of warning tokens, etc. pp.).

Historical differences doesn't mean even more incompatibilities has to be added. So if we add -failOnWarning which matches javac behavior do you agree to have -Werror as an alias for it? It would allow to at least not care how to translate that one option.

>  
> > > - If you prefer ecj to return false when any warning exist, this would be a
> > > fairly simple change in org.eclipse.jdt.internal.compiler.batch.Main,
> > > although more involved then the 3-liner, as it would also need to be
> > > integrated in option parsing, documentation etc. I wouldn't object a
> > > proposal implementing (and documenting) -failOnWarning in ecj (Main), which
> > > only affects the boolean result.
> 
> No answer here?

As I don't have one - it requires time to see what needs changing in jdt.core and where for which I don't know when I'll have time for. In theory it looks like working solution but it remains to be checked. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-29T07:36:51Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/142994 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-29T07:38:40Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #22)
> New Gerrit change created: https://git.eclipse.org/r/142994

So let's check whether this is the approach that would be acceptable for jdt. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-30T21:22:25Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Alexander Kurtakov from comment #23)
> (In reply to Eclipse Genie from comment #22)
> > New Gerrit change created: https://git.eclipse.org/r/142994
> 
> So let's check whether this is the approach that would be acceptable for jdt.

Yes, this looks good to me.

Please also update the help text inside messages.properties (next to proceedOnError), and adjust BatchCompilerTest accordingly. This would also be the suitable class for new tests.

Last but not least the help needs to be updated here: org.eclipse.jdt.doc.user/tasks/task-using_batch_compiler.htm

thanks </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-05-31T09:46:50Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #24)
> (In reply to Alexander Kurtakov from comment #23)
> > (In reply to Eclipse Genie from comment #22)
> > > New Gerrit change created: https://git.eclipse.org/r/142994
> > 
> > So let's check whether this is the approach that would be acceptable for jdt.
> 
> Yes, this looks good to me.
> 
> Please also update the help text inside messages.properties (next to
> proceedOnError), and adjust BatchCompilerTest accordingly. This would also
> be the suitable class for new tests.

^^ Done in next revision.

> 
> Last but not least the help needs to be updated here:
> org.eclipse.jdt.doc.user/tasks/task-using_batch_compiler.htm

That I would do once main patch hits master to reduce the chance for merge conflicts.

> 
> thanks </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-06-25T21:28:13Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/142994 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=6457b6c80a6b7bdd29674a56ca3dd77128e86cc1 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-06-25T21:30:35Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #26)
> Gerrit change https://git.eclipse.org/r/142994 was merged to [master].
> Commit:
> http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
> ?id=6457b6c80a6b7bdd29674a56ca3dd77128e86cc1

Code changes released to master for 4.13 M1. Thanks Alex.

(In reply to Alexander Kurtakov from comment #25)
> (In reply to Stephan Herrmann from comment #24)
> > Last but not least the help needs to be updated here:
> > org.eclipse.jdt.doc.user/tasks/task-using_batch_compiler.htm
> 
> That I would do once main patch hits master to reduce the chance for merge
> conflicts.

For that reason the bug remains open for now. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-06-27T13:33:23Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/145025 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-06-30T16:41:54Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/145025 was merged to [master].
Commit: http://git.eclipse.org/c/platform/eclipse.platform.common.git/commit/?id=9b62e78c85ad90bb2ac24c14fc068d972fc94add </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-06-30T16:42:42Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #29)
> Gerrit change https://git.eclipse.org/r/145025 was merged to [master].
> Commit:
> http://git.eclipse.org/c/platform/eclipse.platform.common.git/commit/
> ?id=9b62e78c85ad90bb2ac24c14fc068d972fc94add

We're done here.
Thanks, Alex. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-07-10T09:21:29Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Verified for 4.13 M1 using build I20190709-1800

Something I observed during testing: We proceed to produce .class files, which I believe is okay. </td> </tr>
        </table>
</body>
</html>

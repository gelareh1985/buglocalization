<html>

<style>
html{
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
    font-size: 17px;
    display: table;
}
table,th,td {
  border: 1px solid black;
  width: 1200;
  text-align:justify;
  word-break:break-all;
}

th{
background-color: lightskyblue;
font-size: 16px;
border: none;
text-align:left;
}

td{
background-color: #d5e3c8;
font-size: 14px;
}

.container {
  position: relative;
  text-align:center;
  padding-top: 70%;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: 2px solid #73AD21;
}

</style>
<body>

<h2>Bug report Information</h2>
<table>

    <th colspan="2"> Bug Report </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bug Report Number </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 551368 </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Summary </td>
        <td  style="width: 80%; background-color:#f7fff0;"> VerifyError with latest jdt.core code on master </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Creation Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2019-09-23T10:37:03Z </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Status </td>
        <td  style="width: 80%; background-color:#f7fff0;"> VERIFIED </td>
    </tr>

    <th colspan="2"> Bug Fix </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bugfix Commit </td>
        <td  style="width: 80%; background-color:#f7fff0;"> Bug 551469 - Make jdt.debug.ui x-friend of some jdt.core packages.

- o.e.jdt.internal.compiler.impl, o.e.jdt.internal.compiler.util and
  o.e.jdt.internal.core.util

Change-Id: I9d50e3a838a96bf20f9d44cd44a9289244bb6c23
 </td>
    </tr>
    <tr>
        <td  tyle="width: 20%; background-color:#d5e3c8;"> Bugfix Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2019-09-27T17:12:10Z </td>
    </tr>
    </table>
<table>

<th colspan="2"> Ranked List of Class Diagrams </th>

<tr>
<td  style="width: 20%; font-size: 10px; background-color:#d5e3c8">

            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverter18Test; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> GenericsRegressionTest_1_8; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> CodeFormatterApplication; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> CompilerToolTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Parser; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AptBuilder; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> RegressionTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> JavaModelManager; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ModelTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> DefaultCodeFormatter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Main; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Disassembler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> IncrementalImageBuilder; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Util; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> IClasspathAttribute; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> EncodingTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> DatabaseTestUtil; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFile; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTRewriteAnalyzer; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FormatterRegressionTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClasspathUtil; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> APIDocumentationTests$JavaCoreJavadocAnalyzer; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Factory; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Database; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> DatabaseRef; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFileToIndexConverter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> SingleNameReference; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> AbstractRegressionTest$JavacCompiler; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> LeakTestsAfter9; </a> </li>
            </ul>   
            
</td>
<td  rowspan="30" style="width: 80%;  background-color:#d5e3c8"> 
    <div class="container">
    <iframe class="responsive-iframe" src="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" name="myIframe">
        <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html">SELFHTML</a>
    </iframe>
    </div>
</td>
</tr>
</table>
<table>

<th colspan="2"> Ranked List of Classifiers </th>

                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter18Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTestJLS8; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter9Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/formatter/CodeFormatterApplication; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTestJLS3; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.compiler.tool.tests/Lorg/eclipse/jdt/compiler/tool/tests/CompilerToolTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/dom/ASTConverter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_9; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/parser/Parser; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.core/Lorg/eclipse/jdt/apt/core/build/AptBuilder; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/Compiler; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter15JLS4Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JEP286Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.tests/Lorg/eclipse/jdt/apt/tests/RegressionTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/JavaModelManager; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.core/Lorg/eclipse/jdt/apt/core/build/JdtApt; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.pluggable.tests/Lorg/eclipse/jdt/apt/pluggable/tests/ModelTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_7; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTestJLS4; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/formatter/DefaultCodeFormatter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverter13Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/batch/Main; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterJavadocTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/util/Disassembler; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/builder/IncrementalImageBuilder; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JavadocTest_1_4; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/SwitchExpressionTest; </td>
                </tr>

                </table>
<table>

<th colspan="2"> Discussion </th>

        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T10:37:03Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> When launching eclipse with jdt.core from master, the following error is reported:

java.lang.VerifyError: Inconsistent stackmap frames at branch target 72
Exception Details:
  Location:
    org/eclipse/jdt/internal/compiler/ast/CompilationUnitDeclaration.isLambdaExpressionCopyContext(Lorg/eclipse/jdt/internal/compiler/impl/ReferenceContext;)Z @72: astore_2
  Reason:
    Type 'org/eclipse/jdt/internal/compiler/lookup/ClassScope' (current frame, stack[0]) is not assignable to 'org/eclipse/jdt/internal/compiler/lookup/MethodScope' (stack map, stack[0])
  Current Frame:
    bci: @51
    flags: { }
    locals: { 'org/eclipse/jdt/internal/compiler/ast/CompilationUnitDeclaration', 'org/eclipse/jdt/internal/compiler/impl/ReferenceContext' }
    stack: { 'org/eclipse/jdt/internal/compiler/lookup/ClassScope' }
  Stackmap Frame:
    bci: @72
    flags: { }
    locals: { 'org/eclipse/jdt/internal/compiler/ast/CompilationUnitDeclaration', 'org/eclipse/jdt/internal/compiler/impl/ReferenceContext' }
    stack: { 'org/eclipse/jdt/internal/compiler/lookup/MethodScope' }
  Bytecode:

I see that the conditional expression in CompilationUnitDeclaration#isLambdaExpressionCopyContext is causing the error and I can confirm that the error goes away if I pull out part of the expression into a local variable. This 'may' be related to the Java 13 work. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T10:39:50Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I assume you are on master? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T10:48:01Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #1)
> I assume you are on master?

Sorry, meant, on latest I20190922-1800 build? I can't see this on Linux RHEL, using OpenJdk 11.0.2. I've seen once that error on Windows / Oracle 11.0.2 by using an older build this weekend, but my installation was broken anyway due bug 551147 so I've assumed this is transient problem.

Any steps to reproduce? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T11:10:40Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> >>When launching eclipse with jdt.core from master

I cant reproduce comment#0 with Build id: I20190922-1800 + latest jdt.core in master. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T11:39:34Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Jay, Vikas, which JVM vendor/version are you using? I don't see this error. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T11:54:56Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #2)
> (In reply to Andrey Loskutov from comment #1)
> > I assume you are on master?
> 
> Sorry, meant, on latest I20190922-1800 build? I can't see this on Linux
> RHEL, using OpenJdk 11.0.2. I've seen once that error on Windows / Oracle
> 11.0.2 by using an older build this weekend, but my installation was broken
> anyway due bug 551147 so I've assumed this is transient problem.
> 
> Any steps to reproduce?

Yes, I am on master using build I20190922-1800. Interestingly, I don't see it when I close the jdt.core project.

All I have to do is open that project and launch a new eclipse. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T12:37:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Vikas Chandra from comment #3)
> >>When launching eclipse with jdt.core from master
> 
> I cant reproduce comment#0 with Build id: I20190922-1800 + latest jdt.core
> in master.

It doesn't seem to matter in my case. I have tried with JDK 8, 12 and 13 GA (all open JDK). </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:03:47Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> OK, you seem to start Eclipse from  Eclipse, right?

I've tried to start new Eclipse launch config and in fact, it crashes immediately with this error below.

This seem also to affect all existing launch configs. 
Looks I can't debug anymore :-(

I assume this is regression with most recent builds, commits 9407f9ff6ccc3c7dccbee9bda158370adbe122c7 to ae3d720efce20459d1d746646153478f03bf3002.

!SESSION 2019-09-23 14:51:53.711 -----------------------------------------------
eclipse.buildId=4.14.0.I20190922-1800
java.version=1.8.0_181
java.vendor=Oracle Corporation
BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US
Framework arguments:  -product org.eclipse.sdk.ide
Command-line arguments:  -product org.eclipse.sdk.ide -data /data/4x_platform_workspace/../runtime-New_configuration(5) -dev file:/data/4x_platform_workspace/.metadata/.plugins/org.eclipse.pde.core/New_configuration (5)/dev.properties -os linux -ws gtk -arch x86_64 -consoleLog

!ENTRY org.eclipse.osgi 4 0 2019-09-23 14:51:55.924
!MESSAGE An error occurred while automatically activating bundle org.eclipse.core.resources (74).
!STACK 0
org.osgi.framework.BundleException: Exception in org.eclipse.core.resources.ResourcesPlugin.start() of bundle org.eclipse.core.resources.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:863)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:791)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1015)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365)
	at org.eclipse.osgi.container.Module.doStart(Module.java:603)
	at org.eclipse.osgi.container.Module.start(Module.java:467)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:493)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:571)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:330)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:398)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:472)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:425)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:155)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:151)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:660)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:597)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1468)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1441)
Caused by: java.lang.VerifyError: Inconsistent stackmap frames at branch target 39
Exception Details:
  Location:
    org/eclipse/core/internal/resources/WorkspaceDescriptionReader.getString(Lorg/w3c/dom/Node;Ljava/lang/String;)Ljava/lang/String; @39: areturn
  Reason:
    Type 'java/lang/String' (current frame, stack[0]) is not assignable to null (stack map, stack[0])
  Current Frame:
    bci: @35
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { 'java/lang/String' }
  Stackmap Frame:
    bci: @39
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { null }
  Bytecode:
    0x0000000: 2a2b 2cb6 0019 4e2d c600 1e2d b900 1d01
    0x0000010: 00c7 0007 01a7 0012 2db9 001d 0100 b900
    0x0000020: 2301 00a7 0004 01b0                    
  Stackmap Table:
    append_frame(@24,Object[#30])
    same_frame(@38)
    same_locals_1_stack_item_frame(@39,Null)

	at org.eclipse.core.internal.resources.LocalMetaArea.readOldWorkspace(LocalMetaArea.java:320)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2195)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:489)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:842)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:834)
	... 30 more
Root exception:
java.lang.VerifyError: Inconsistent stackmap frames at branch target 39
Exception Details:
  Location:
    org/eclipse/core/internal/resources/WorkspaceDescriptionReader.getString(Lorg/w3c/dom/Node;Ljava/lang/String;)Ljava/lang/String; @39: areturn
  Reason:
    Type 'java/lang/String' (current frame, stack[0]) is not assignable to null (stack map, stack[0])
  Current Frame:
    bci: @35
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { 'java/lang/String' }
  Stackmap Frame:
    bci: @39
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { null }
  Bytecode:
    0x0000000: 2a2b 2cb6 0019 4e2d c600 1e2d b900 1d01
    0x0000010: 00c7 0007 01a7 0012 2db9 001d 0100 b900
    0x0000020: 2301 00a7 0004 01b0                    
  Stackmap Table:
    append_frame(@24,Object[#30])
    same_frame(@38)
    same_locals_1_stack_item_frame(@39,Null)

	at org.eclipse.core.internal.resources.LocalMetaArea.readOldWorkspace(LocalMetaArea.java:320)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2195)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:489)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:842)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:834)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:791)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1015)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365)
	at org.eclipse.osgi.container.Module.doStart(Module.java:603)
	at org.eclipse.osgi.container.Module.start(Module.java:467)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:493)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:571)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:330)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:398)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:472)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:425)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:155)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:151)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:660)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:597)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1468)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1441)

!ENTRY org.eclipse.osgi 4 0 2019-09-23 14:51:55.934
!MESSAGE Application error
!STACK 1
java.lang.NoClassDefFoundError: org/eclipse/core/resources/IContainer
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:151)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:660)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:597)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1468)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1441)
Caused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.core.resources (74).
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:571)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:330)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:398)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:472)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:425)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:155)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 14 more
Caused by: org.osgi.framework.BundleException: Exception in org.eclipse.core.resources.ResourcesPlugin.start() of bundle org.eclipse.core.resources.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:863)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:791)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1015)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365)
	at org.eclipse.osgi.container.Module.doStart(Module.java:603)
	at org.eclipse.osgi.container.Module.start(Module.java:467)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:493)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)
	... 23 more
Caused by: java.lang.VerifyError: Inconsistent stackmap frames at branch target 39
Exception Details:
  Location:
    org/eclipse/core/internal/resources/WorkspaceDescriptionReader.getString(Lorg/w3c/dom/Node;Ljava/lang/String;)Ljava/lang/String; @39: areturn
  Reason:
    Type 'java/lang/String' (current frame, stack[0]) is not assignable to null (stack map, stack[0])
  Current Frame:
    bci: @35
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { 'java/lang/String' }
  Stackmap Frame:
    bci: @39
    flags: { }
    locals: { 'org/eclipse/core/internal/resources/WorkspaceDescriptionReader', 'org/w3c/dom/Node', 'java/lang/String', 'org/w3c/dom/Node' }
    stack: { null }
  Bytecode:
    0x0000000: 2a2b 2cb6 0019 4e2d c600 1e2d b900 1d01
    0x0000010: 00c7 0007 01a7 0012 2db9 001d 0100 b900
    0x0000020: 2301 00a7 0004 01b0                    
  Stackmap Table:
    append_frame(@24,Object[#30])
    same_frame(@38)
    same_locals_1_stack_item_frame(@39,Null)

	at org.eclipse.core.internal.resources.LocalMetaArea.readOldWorkspace(LocalMetaArea.java:320)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2195)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:489)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:842)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:834)
	... 30 more
An error has occurred. See the log file
/data/runtime-New_configuration(5)/.metadata/.log. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:08:04Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #6)
> (In reply to Vikas Chandra from comment #3)
> > >>When launching eclipse with jdt.core from master
> > 
> > I cant reproduce comment#0 with Build id: I20190922-1800 + latest jdt.core
> > in master.
> 
> It doesn't seem to matter in my case. I have tried with JDK 8, 12 and 13 GA
> (all open JDK).

Sorry, obviously there must be something about the workspace I am loading that is causing it. I haven't yet isolated it, but will report back once I have it. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:13:00Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #8)
> Sorry, obviously there must be something about the workspace I am loading
> that is causing it. I haven't yet isolated it, but will report back once I
> have it.

As said, I see it in my main workspace now too. However, sample plugin project in a new workspace starts fine. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:19:01Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #8)
> Sorry, obviously there must be something about the workspace I am loading
> that is causing it. I haven't yet isolated it, but will report back once I
> have it.

I managed to load my test workspace after closing all projects in them. But looks like there are quite a few places affected in the compiler code that it is simply matter of time we run into one of the affected bytecode.


(In reply to Andrey Loskutov from comment #7)
> I assume this is regression with most recent builds, commits
> 9407f9ff6ccc3c7dccbee9bda158370adbe122c7 to
> ae3d720efce20459d1d746646153478f03bf3002.

It has to be ae3d720efce20459d1d746646153478f03bf3002, where we made significant changes in this area. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:24:12Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #9)
> (In reply to Jay Arthanareeswaran from comment #8)
> > Sorry, obviously there must be something about the workspace I am loading
> > that is causing it. I haven't yet isolated it, but will report back once I
> > have it.
> 
> As said, I see it in my main workspace now too. However, sample plugin
> project in a new workspace starts fine.

OK, I can start without verify error if I don't have org.eclipse.core.resources bundle open in my workspace.

Steps to reproduce:

1) With the build I20190922-1800, create new workspace
2) Create new plugin project based on "Incremental builder" template and all defaults.
3) Debug As -> Eclipse application: works
4) Import org.eclipse.core.resources from git into workspace.
5) Debug As -> Eclipse application: crash

The question is: what is the difference between officially compiled / workspace compiled version? 
Do we use "old" ecj to compile on master? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T13:56:47Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #10)
> It has to be ae3d720efce20459d1d746646153478f03bf3002, where we made
> significant changes in this area.

Yes, it is this commit. reverting this one fixes the problem for me.

Note: 

1) one has to use build I20190919-1800 or older, import projects in a new workspace:

org.eclipse.jdt.apt.core
org.eclipse.jdt.compiler.apt
org.eclipse.jdt.compiler.tool
org.eclipse.jdt.core

2) start IDE based on I20190919-1800 or older from this workspace
3) in the second Eclipse, import org.eclipse.core.resources project
4) start third Eclipse.

With commit ae3d720efce20459d1d746646153478f03bf3002 third Eclipse will crash, reverting it makes Eclipse start again.

@Jay: looking on commit ae3d720efce20459d1d746646153478f03bf3002 I assume the fix is not trivial, and we can't start debugging IDE in new builds with commit ae3d720efce20459d1d746646153478f03bf3002, and old 4.14 builds are broken due bug 551147 (which is fixed only in build I20190922-1800 which contains this regression). So with commit ae3d720efce20459d1d746646153478f03bf3002 we have no chance to use 4.14 builds for developing Eclipse.

=> I would propose to revert ae3d720efce20459d1d746646153478f03bf3002 for now.

WDYT? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T14:03:30Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #12)
> => I would propose to revert ae3d720efce20459d1d746646153478f03bf3002 for
> now.
> 
> WDYT?

Patch with revert is https://git.eclipse.org/r/#/c/150001/ . </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T14:13:48Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Looks like bad coincidence with https://www.eclipse.org/lists/platform-releng-dev/msg34670.html ?

It seems we should expect that build to be DOA? Not "just" runtime workbenches? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T15:19:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Reverted the ecj compiler : https://git.eclipse.org/r/#/c/150008/

Surprisingly I was getting SWT Widget or Invalid thread access error if jdt.core project was open in the workspace. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T15:23:38Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #14)
> Looks like bad coincidence with
> https://www.eclipse.org/lists/platform-releng-dev/msg34670.html ?
> 
> It seems we should expect that build to be DOA? Not "just" runtime
> workbenches?

Now reverted. The next I build will use the 4.13RC2a ECJ </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T15:51:47Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #13)
> (In reply to Andrey Loskutov from comment #12)
> > => I would propose to revert ae3d720efce20459d1d746646153478f03bf3002 for
> > now.
> > 
> > WDYT?
> 
> Patch with revert is https://git.eclipse.org/r/#/c/150001/ .

@Anyone on CC: do we revert the actual JDT core change now or do we try to fix it? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T18:14:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I am looking at the problem. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T18:31:40Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #14)
> Looks like bad coincidence with
> https://www.eclipse.org/lists/platform-releng-dev/msg34670.html ?
> 
> It seems we should expect that build to be DOA? Not "just" runtime
> workbenches?

I've briefly tried this build on Windows, but it starts and does not crash. I assume it is compiled but still not fully built with the new compiler, because maven re-uses baseline artifacts if the bundles code did not changed between two builds. So the build might even work for other tasks. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T18:32:32Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I reproduced the problem. Working on a fix. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:04:16Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I think I know what is going on. I have a fix for it. How do we proceed to apply that fix on top of master with the previous patch in it? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:17:21Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> So I would need to apply my fix on top of master containing the commit for ae3d720efce20459d1d746646153478f03bf3002. I am attaching the patch to apply that contains a regression test for this failure. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:17:53Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 279991
Proposed patch + regression test </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:39:34Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Olivier Thomann from comment #23)
> Created attachment 279991 [details]
> Proposed patch + regression test

Olivier, could you pusch your patch to Gerrit? You will need first revert the revert commit and push your new patch on top of that. Or just push your current change as is and I could do the rest (rebase on top of reverted revert)? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:55:05Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I don't know the way gerrit works. Sorry. I will let Manoj take of this tomorrow morning. The commit that reverted the previous patch has to be reverted and then apply the attached patch on top of that. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:55:55Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150018 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T19:58:28Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #26)
> New Gerrit change created: https://git.eclipse.org/r/150018

I took the liberty to step in :) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-23T21:52:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> We have +1 from jenkins, but I'd prefer to make haste slowly, since the revert has been pushed to avert the worst.

Or should we squeeze it into the nightly per last minute? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T00:53:36Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #27)
> (In reply to Eclipse Genie from comment #26)
> > New Gerrit change created: https://git.eclipse.org/r/150018
> 
> I took the liberty to step in :)

Thanks Stephan :) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T00:58:43Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #29)
> (In reply to Stephan Herrmann from comment #27)
> > (In reply to Eclipse Genie from comment #26)
> > > New Gerrit change created: https://git.eclipse.org/r/150018
> > 
> > I took the liberty to step in :)
> 
> Thanks Stephan :)

I see a greyed Submit including parents button after code review +2. I guess this is because the rebase is not done to the top of the parent branch. Will try to push this. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T03:53:35Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150033 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T03:56:54Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> > (In reply to Manoj Palat from comment #30)
>
> I see a greyed Submit including parents button after code review +2. I guess
> this is because the rebase is not done to the top of the parent branch. Will
> try to push this.

(In reply to Eclipse Genie from comment #31)
> New Gerrit change created: https://git.eclipse.org/r/150033

Created a combined gerrit that includes the revert of revert of bug 544943 and then applied this patch. Request people willing to test this out by spawning Eclipse and doing some sanity test. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T07:45:05Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #32)
> Created a combined gerrit that includes the revert of revert of bug 544943
> and then applied this patch. Request people willing to test this out by
> spawning Eclipse and doing some sanity test.

Manoj, this is probably not necessary. I have verified OT's patch to be working on top of the initial change for code generation. I will shortly release the patches Stephan posted after Gerrit completes. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T08:31:52Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/150018 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=212e6b23af942ca28f9a8eed4ca33c2053dc2108 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T08:34:13Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #33)
> Manoj, this is probably not necessary. I have verified OT's patch to be
> working on top of the initial change for code generation. I will shortly
> release the patches Stephan posted after Gerrit completes.

Done. I will wait for the next I build for verifying the fix again. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-24T11:54:33Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #32)
> (In reply to Eclipse Genie from comment #31)
> > New Gerrit change created: https://git.eclipse.org/r/150033
> 
> Created a combined gerrit that includes the revert of revert of bug 544943
> and then applied this patch. Request people willing to test this out by
> spawning Eclipse and doing some sanity test.

Just for the record: I can work with this patch without verify errors today. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-25T13:41:27Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I also verified that the fix works. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T09:25:57Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> I got this error while creating a class in a Java Project in the spawned eclipse from 26th Sep build :

Errors occurred during the build.
Errors running builder 'Java Builder' on project 'testJE'.
Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector.add([[C)Z @71: invokestatic
  Reason:
    Type 'java/io/Serializable' (current frame, stack[2]) is not assignable to '[Ljava/lang/Object;'
  Current Frame:
    bci: @71
    flags: { }
    locals: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[C', integer }
    stack: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[[C', 'java/io/Serializable', '[[C', integer, integer }
  Bytecode:
    0x0000000: 2ab4 0018 032a b400 142b b200 1eb8 0024
    0x0000010: 3d1c 9c00 402a 2ab4 0018 2ab4 0014 2ab4
    0x0000020: 0018 bea2 000a 2ab4 0018 a700 0d2a b400
    0x0000030: 18be 0568 bd00 162b 1c04 6074 2a59 b400
    0x0000040: 145a 0460 b500 14b8 002a c000 2eb5 0018
    0x0000050: 04ac 03ac                              
  Stackmap Table:
    full_frame(@45,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46]})
    full_frame(@55,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46],Object[#50]})
    same_frame(@82)


Caused by: java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor.createTypeInfo(Lorg/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo;Lorg/eclipse/jdt/internal/core/SourceType;)Lorg/eclipse/jdt/internal/core/SourceTypeElementInfo; @28: invokevirtual
  Reason:
    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'org/eclipse/jdt/internal/core/SourceTypeElementInfo'
  Current Frame:
    bci: @28
    flags: { }
    locals: { 'org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor', 'org/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo', 'org/eclipse/jdt/internal/core/SourceType', 'java/lang/Object' }
    stack: { 'java/lang/Object', 'org/eclipse/jdt/internal/core/SourceType' }
  Bytecode:
    0x0000000: 2bb4 028b 9900 0ebb 028e 592a b702 90a7
    0x0000010: 000a bb02 9359 b702 954e 2d2c b602 962d
    0x0000020: 2bb4 0299 b602 9a2d 2bb4 029b b602 9c2d
    0x0000030: 2bb4 029d b602 9e2d 2bb4 029f b602 a0b8
    0x0000040: 0072 3a04 2bb4 02a1 3a05 2d19 05c7 0007
    0x0000050: 01a7 000a 1904 1905 b602 06b6 02a4 2bb4
    0x0000060: 02a7 3a06 0336 0719 06c7 0007 03a7 0006
    0x0000070: 1906 be36 08a7 0015 1906 1507 1904 1906
    0x0000080: 1507 32b6 0206 5384 0701 1507 1508 a1ff
    0x0000090: ea2d 1906 b602 aa2d 2c2b b402 69b6 02ad
    0x00000a0: 2ab4 0035 2c2d b900 6c03 0057 2bb4 02ae
    0x00000b0: c600 2a03 3607 2bb4 02ae be36 08a7 0016
    0x00000c0: 2bb4 02ae 1507 323a 092a 1909 2db6 021a
    0x00000d0: 8407 0115 0715 08a1 ffe9 2bb4 02af c600
    0x00000e0: 3a2b b402 afbe 3607 2ab4 0033 59b4 021f
    0x00000f0: 1507 60b5 021f 0336 08a7 0018 2bb4 02af
    0x0000100: 1508 323a 092a 1909 2d2c b600 dc57 8408
    0x0000110: 0115 0815 07a1 ffe7 2bb4 01c2 c600 422b
    0x0000120: b401 c2b6 02b0 b902 b401 003a 07a7 0027
    0x0000130: 1907 b902 ba01 00c0 02bf 3a08 2d19 08b9
    0x0000140: 02c1 0100 c002 c419 08b9 02c6 0100 c002
    0x0000150: 42b6 02ad 1907 b902 c901 009a ffd5 2bb4
    0x0000160: 02cd 9900 0d2a b400 33b2 0238 b502 1f2d
    0x0000170: b0                                     
  Stackmap Table:
    same_frame(@18)
    same_locals_1_stack_item_frame(@25,Object[#234])
    full_frame(@84,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659]})
    full_frame(@91,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659],Object[#579]})
    append_frame(@112,Object[#578],Integer)
    same_locals_1_stack_item_frame(@115,Integer)
    append_frame(@120,Integer)
    same_frame(@138)
    same_frame(@192)
    same_frame(@211)
    chop_frame(@218,2)
    append_frame(@252,Integer,Integer)
    same_frame(@273)
    chop_frame(@280,2)
    append_frame(@304,Object[#699])
    same_frame(@340)
    chop_frame(@350,1)
    same_frame(@367)

	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:117)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.BecomeWorkingCopyOperation.executeOperation(BecomeWorkingCopyOperation.java:43)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:97)
	at org.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:104)
	at org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType(NewTypeWizardPage.java:2212)
	at org.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.finishPage(NewClassCreationWizard.java:68)
	at org.eclipse.jdt.internal.ui.wizards.NewElementWizard$2.run(NewElementWizard.java:123)
	at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:41)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2291)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2316)
	at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:5862)
	at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:108)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)
Root exception:
java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor.createTypeInfo(Lorg/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo;Lorg/eclipse/jdt/internal/core/SourceType;)Lorg/eclipse/jdt/internal/core/SourceTypeElementInfo; @28: invokevirtual
  Reason:
    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'org/eclipse/jdt/internal/core/SourceTypeElementInfo'
  Current Frame:
    bci: @28
    flags: { }
    locals: { 'org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor', 'org/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo', 'org/eclipse/jdt/internal/core/SourceType', 'java/lang/Object' }
    stack: { 'java/lang/Object', 'org/eclipse/jdt/internal/core/SourceType' }
  Bytecode:
    0x0000000: 2bb4 028b 9900 0ebb 028e 592a b702 90a7
    0x0000010: 000a bb02 9359 b702 954e 2d2c b602 962d
    0x0000020: 2bb4 0299 b602 9a2d 2bb4 029b b602 9c2d
    0x0000030: 2bb4 029d b602 9e2d 2bb4 029f b602 a0b8
    0x0000040: 0072 3a04 2bb4 02a1 3a05 2d19 05c7 0007
    0x0000050: 01a7 000a 1904 1905 b602 06b6 02a4 2bb4
    0x0000060: 02a7 3a06 0336 0719 06c7 0007 03a7 0006
    0x0000070: 1906 be36 08a7 0015 1906 1507 1904 1906
    0x0000080: 1507 32b6 0206 5384 0701 1507 1508 a1ff
    0x0000090: ea2d 1906 b602 aa2d 2c2b b402 69b6 02ad
    0x00000a0: 2ab4 0035 2c2d b900 6c03 0057 2bb4 02ae
    0x00000b0: c600 2a03 3607 2bb4 02ae be36 08a7 0016
    0x00000c0: 2bb4 02ae 1507 323a 092a 1909 2db6 021a
    0x00000d0: 8407 0115 0715 08a1 ffe9 2bb4 02af c600
    0x00000e0: 3a2b b402 afbe 3607 2ab4 0033 59b4 021f
    0x00000f0: 1507 60b5 021f 0336 08a7 0018 2bb4 02af
    0x0000100: 1508 323a 092a 1909 2d2c b600 dc57 8408
    0x0000110: 0115 0815 07a1 ffe7 2bb4 01c2 c600 422b
    0x0000120: b401 c2b6 02b0 b902 b401 003a 07a7 0027
    0x0000130: 1907 b902 ba01 00c0 02bf 3a08 2d19 08b9
    0x0000140: 02c1 0100 c002 c419 08b9 02c6 0100 c002
    0x0000150: 42b6 02ad 1907 b902 c901 009a ffd5 2bb4
    0x0000160: 02cd 9900 0d2a b400 33b2 0238 b502 1f2d
    0x0000170: b0                                     
  Stackmap Table:
    same_frame(@18)
    same_locals_1_stack_item_frame(@25,Object[#234])
    full_frame(@84,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659]})
    full_frame(@91,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659],Object[#579]})
    append_frame(@112,Object[#578],Integer)
    same_locals_1_stack_item_frame(@115,Integer)
    append_frame(@120,Integer)
    same_frame(@138)
    same_frame(@192)
    same_frame(@211)
    chop_frame(@218,2)
    append_frame(@252,Integer,Integer)
    same_frame(@273)
    chop_frame(@280,2)
    append_frame(@304,Object[#699])
    same_frame(@340)
    chop_frame(@350,1)
    same_frame(@367)

	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:117)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.BecomeWorkingCopyOperation.executeOperation(BecomeWorkingCopyOperation.java:43)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:97)
	at org.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:104)
	at org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType(NewTypeWizardPage.java:2212)
	at org.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.finishPage(NewClassCreationWizard.java:68)
	at org.eclipse.jdt.internal.ui.wizards.NewElementWizard$2.run(NewElementWizard.java:123)
	at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:41)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2291)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2316)
	at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:5862)
	at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:108)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122)

!ENTRY org.eclipse.core.resources 4 2 2019-09-27 14:48:28.608
!MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.core.resources".
!STACK 0
java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector.add([[C)Z @71: invokestatic
  Reason:
    Type 'java/io/Serializable' (current frame, stack[2]) is not assignable to '[Ljava/lang/Object;'
  Current Frame:
    bci: @71
    flags: { }
    locals: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[C', integer }
    stack: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[[C', 'java/io/Serializable', '[[C', integer, integer }
  Bytecode:
    0x0000000: 2ab4 0018 032a b400 142b b200 1eb8 0024
    0x0000010: 3d1c 9c00 402a 2ab4 0018 2ab4 0014 2ab4
    0x0000020: 0018 bea2 000a 2ab4 0018 a700 0d2a b400
    0x0000030: 18be 0568 bd00 162b 1c04 6074 2a59 b400
    0x0000040: 145a 0460 b500 14b8 002a c000 2eb5 0018
    0x0000050: 04ac 03ac                              
  Stackmap Table:
    full_frame(@45,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46]})
    full_frame(@55,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46],Object[#50]})
    same_frame(@82)

	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.<init>(CompilationUnitScope.java:85)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.<init>(CompilationUnitScope.java:74)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.buildTypeBindings(LookupEnvironment.java:471)
	at org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:854)
	at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:386)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.compile(IncrementalImageBuilder.java:371)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:318)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.incrementalBuildLoop(IncrementalImageBuilder.java:186)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build(IncrementalImageBuilder.java:143)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas(JavaBuilder.java:292)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:212)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)

!ENTRY org.eclipse.core.resources 4 75 2019-09-27 14:48:28.613
!MESSAGE Errors occurred during the build.
!SUBENTRY 1 org.eclipse.jdt.core 4 75 2019-09-27 14:48:28.613
!MESSAGE Errors running builder 'Java Builder' on project 'testJE'.
!STACK 0
java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector.add([[C)Z @71: invokestatic
  Reason:
    Type 'java/io/Serializable' (current frame, stack[2]) is not assignable to '[Ljava/lang/Object;'
  Current Frame:
    bci: @71
    flags: { }
    locals: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[C', integer }
    stack: { 'org/eclipse/jdt/internal/compiler/lookup/SortedCompoundNameVector', '[[[C', 'java/io/Serializable', '[[C', integer, integer }
  Bytecode:
    0x0000000: 2ab4 0018 032a b400 142b b200 1eb8 0024
    0x0000010: 3d1c 9c00 402a 2ab4 0018 2ab4 0014 2ab4
    0x0000020: 0018 bea2 000a 2ab4 0018 a700 0d2a b400
    0x0000030: 18be 0568 bd00 162b 1c04 6074 2a59 b400
    0x0000040: 145a 0460 b500 14b8 002a c000 2eb5 0018
    0x0000050: 04ac 03ac                              
  Stackmap Table:
    full_frame(@45,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46]})
    full_frame(@55,{Object[#1],Object[#22],Integer},{Object[#1],Object[#46],Object[#50]})
    same_frame(@82)

	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.<init>(CompilationUnitScope.java:85)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.<init>(CompilationUnitScope.java:74)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.buildTypeBindings(LookupEnvironment.java:471)
	at org.eclipse.jdt.internal.compiler.Compiler.internalBeginToCompile(Compiler.java:854)
	at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:394)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:444)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:386)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.compile(IncrementalImageBuilder.java:371)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:318)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.incrementalBuildLoop(IncrementalImageBuilder.java:186)
	at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build(IncrementalImageBuilder.java:143)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas(JavaBuilder.java:292)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:212)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T09:38:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Work well in the main Eclipse. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T09:44:40Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Sarika Sinha from comment #38)
> I got this error while creating a class in a Java Project in the spawned
> eclipse from 26th Sep build :
This works for me using a new workspace, launch second, create project and class. Do you have projects in your workspace? Maybe you need to do a full build?

Please try to provide reproducible steps. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T10:10:52Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Dani Megert from comment #40)
> (In reply to Sarika Sinha from comment #38)
> > I got this error while creating a class in a Java Project in the spawned
> > eclipse from 26th Sep build :
> This works for me using a new workspace, launch second, create project and
> class. Do you have projects in your workspace? Maybe you need to do a full
> build?
> 
> Please try to provide reproducible steps.

Manoj and Kalyan also seeing the same issue.

After restarting Eclipse and clean Build, now the child Eclipse does not launch, gives same Verify Error. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T10:23:09Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Dumps here:
EquinoxClassLoader(ClassLoader).loadClass(String) line: 521	
CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 117	
CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 268	
CompilationUnit(JavaElement).openWhenClosed(Object, boolean, IProgressMonitor) line: 596	
BecomeWorkingCopyOperation.executeOperation() line: 43	
BecomeWorkingCopyOperation(JavaModelOperation).run(IProgressMonitor) line: 736	
BecomeWorkingCopyOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 802	
CompilationUnit.becomeWorkingCopy(IProblemRequestor, IProgressMonitor) line: 97	
CompilationUnitDocumentProvider.createFileInfo(Object) line: 1034	
CompilationUnitDocumentProvider(TextFileDocumentProvider).connect(Object) line: 481	
CompilationUnitDocumentProvider.connect(Object) line: 1277	
CompilationUnitEditor(AbstractTextEditor).doSetInput(IEditorInput) line: 4212	
CompilationUnitEditor(StatusTextEditor).doSetInput(IEditorInput) line: 260	
CompilationUnitEditor(AbstractDecoratedTextEditor).doSetInput(IEditorInput) line: 1479	
CompilationUnitEditor(JavaEditor).internalDoSetInput(IEditorInput) line: 2575	

This is trying to load org.eclipse.jdt.internal.core.ImportContainer
Looks like the class is not correct � has verifuication error. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T10:28:53Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 280064
Unable to create a java project

1) Take Build id: I20190926-0625
2) Take latest jdt.core from master
3) Launch eclipse
4) In launched eclipse, create a java project

I see the error attached </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T11:24:10Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> A reproducible unit test case:

class X {


	int size;
	char[][][] elements;

	public X() {
		this.size = 0;
		this.elements = new char[10][][];
	}

	public  void insertIntoArray(char[][][] target) {
	}

	public void add(char[][] newElement) {
				insertIntoArray(
				this.size < this.elements.length ? this.elements : new char[this.elements.length * 2][][]);
	}

	public static void main(String[] args) {
		System.out.println("hello world");
	}
}


This is reduced from SortedCompoundNameVector which was also having verification issue. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T13:31:07Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> working on it. Please don't remove the code from master so I can work on a fix. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T13:52:33Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 280072
Proposed patch + regression test

Could someone push this patch to master and run all tests please? Thanks. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T14:36:07Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150256 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T14:36:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150257 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T14:37:38Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #48)
> New Gerrit change created: https://git.eclipse.org/r/150257

I was only four seconds too late :-) I will abandon this one. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T14:38:05Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> thank you! </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T14:52:48Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrits are failing:
16:43:13 [ERROR] Failed to execute goal org.eclipse.tycho:tycho-compiler-plugin:1.5.0-SNAPSHOT:compile (default-compile) on project org.eclipse.jdt.annotation: Non-existing JDK home configuration at /opt/tools/java/oracle/jdk-1.4/latest/jre -> [Help 1]

I'll run RunJDTCoreTests locally </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:11:22Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Till Brychcy from comment #51)
> Gerrits are failing:
> 16:43:13 [ERROR] Failed to execute goal
> org.eclipse.tycho:tycho-compiler-plugin:1.5.0-SNAPSHOT:compile
> (default-compile) on project org.eclipse.jdt.annotation: Non-existing JDK
> home configuration at /opt/tools/java/oracle/jdk-1.4/latest/jre -> [Help 1]
> 
> I'll run RunJDTCoreTests locally

@Till: With Sravan's directions, I was able to trigger gerrit on older infrastructure using manual trigger - https://ci.eclipse.org/jdt/gerrit_manual_trigger/ </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:14:16Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #47)
> New Gerrit change created: https://git.eclipse.org/r/150256

@Olivier - There are still failures when we try to launch an Eclipse after putting the patch - maybe the unit test case captured just one scenario.

To reproduce, take the latest Eclipse I build, open with a workspace that contains latest JDT, update with the patch and then launch an Eclipse - we get verify errors.. looking into it to see if further investigation can be done. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:20:52Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Do you have a stacktrace I can look at? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:22:00Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Till Brychcy from comment #51)
> Gerrits are failing:
> 16:43:13 [ERROR] Failed to execute goal
> org.eclipse.tycho:tycho-compiler-plugin:1.5.0-SNAPSHOT:compile
> (default-compile) on project org.eclipse.jdt.annotation: Non-existing JDK
> home configuration at /opt/tools/java/oracle/jdk-1.4/latest/jre -> [Help 1]
> 
> I'll run RunJDTCoreTests locally

Just for the record, I ran RunJDTCoreTests on java 12 and with compliance 12 and got a few unrelated failures:

org.eclipse.jdt.core.tests.compiler.regression.NullTypeAnnotationTest.testBug542707_1()
org.eclipse.jdt.core.tests.dom.APIDocumentationTests.testTestDefaultCompliance()
org.eclipse.jdt.core.tests.model.ModuleBuilderTests.testReleaseOption9()
org.eclipse.jdt.core.tests.model.ExternalAnnotations18Test.testBug508955()
org.eclipse.jdt.core.tests.model.ExternalAnnotations18Test.testBug508955b()

I guess gerrit still runs on 1.8. I think some tests need to be updated.
(Just to be sure I tried on 1.8 and ExternalAnnotations18Test works fine) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:30:24Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Olivier Thomann from comment #54)
> Do you have a stacktrace I can look at?

java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor.createTypeInfo(Lorg/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo;Lorg/eclipse/jdt/internal/core/SourceType;)Lorg/eclipse/jdt/internal/core/SourceTypeElementInfo; @28: invokevirtual
  Reason:
    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'org/eclipse/jdt/internal/core/SourceTypeElementInfo'
  Current Frame:
    bci: @28
    flags: { }
    locals: { 'org/eclipse/jdt/internal/core/CompilationUnitStructureRequestor', 'org/eclipse/jdt/internal/compiler/ISourceElementRequestor$TypeInfo', 'org/eclipse/jdt/internal/core/SourceType', 'java/lang/Object' }
    stack: { 'java/lang/Object', 'org/eclipse/jdt/internal/core/SourceType' }
  Bytecode:
    0000000: 2bb4 028b 9900 0ebb 028e 592a b702 90a7
    0000010: 000a bb02 9359 b702 954e 2d2c b602 962d
    0000020: 2bb4 0299 b602 9a2d 2bb4 029b b602 9c2d
    0000030: 2bb4 029d b602 9e2d 2bb4 029f b602 a0b8
    0000040: 0072 3a04 2bb4 02a1 3a05 2d19 05c7 0007
    0000050: 01a7 000a 1904 1905 b602 06b6 02a4 2bb4
    0000060: 02a7 3a06 0336 0719 06c7 0007 03a7 0006
    0000070: 1906 be36 08a7 0015 1906 1507 1904 1906
    0000080: 1507 32b6 0206 5384 0701 1507 1508 a1ff
    0000090: ea2d 1906 b602 aa2d 2c2b b402 69b6 02ad
    00000a0: 2ab4 0035 2c2d b900 6c03 0057 2bb4 02ae
    00000b0: c600 2a03 3607 2bb4 02ae be36 08a7 0016
    00000c0: 2bb4 02ae 1507 323a 092a 1909 2db6 021a
    00000d0: 8407 0115 0715 08a1 ffe9 2bb4 02af c600
    00000e0: 3a2b b402 afbe 3607 2ab4 0033 59b4 021f
    00000f0: 1507 60b5 021f 0336 08a7 0018 2bb4 02af
    0000100: 1508 323a 092a 1909 2d2c b600 dc57 8408
    0000110: 0115 0815 07a1 ffe7 2bb4 01c2 c600 422b
    0000120: b401 c2b6 02b0 b902 b401 003a 07a7 0027
    0000130: 1907 b902 ba01 00c0 02bf 3a08 2d19 08b9
    0000140: 02c1 0100 c002 c419 08b9 02c6 0100 c002
    0000150: 42b6 02ad 1907 b902 c901 009a ffd5 2bb4
    0000160: 02cd 9900 0d2a b400 33b2 0238 b502 1f2d
    0000170: b0                                     
  Stackmap Table:
    same_frame(@18)
    same_locals_1_stack_item_frame(@25,Object[#234])
    full_frame(@84,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659]})
    full_frame(@91,{Object[#1],Object[#332],Object[#334],Object[#659],Object[#115],Object[#579]},{Object[#659],Object[#579]})
    append_frame(@112,Object[#578],Integer)
    same_locals_1_stack_item_frame(@115,Integer)
    append_frame(@120,Integer)
    same_frame(@138)
    same_frame(@192)
    same_frame(@211)
    chop_frame(@218,2)
    append_frame(@252,Integer,Integer)
    same_frame(@273)
    chop_frame(@280,2)
    append_frame(@304,Object[#699])
    same_frame(@340)
    chop_frame(@350,1)
    same_frame(@367)

	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:117)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:268)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:596)
	at org.eclipse.jdt.internal.core.BecomeWorkingCopyOperation.executeOperation(BecomeWorkingCopyOperation.java:43)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:736)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:802)
	at org.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:97)
	at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createFileInfo(CompilationUnitDocumentProvider.java:1034)
	at org.eclipse.ui.editors.text.TextFileDocumentProvider.connect(TextFileDocumentProvider.java:481)
	at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.connect(CompilationUnitDocumentProvider.java:1277)
	at org.eclipse.ui.texteditor.AbstractTextEditor.doSetInput(AbstractTextEditor.java:4212)
	at org.eclipse.ui.texteditor.StatusTextEditor.doSetInput(StatusTextEditor.java:260)
	at org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.doSetInput(AbstractDecoratedTextEditor.java:1479)
	at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.internalDoSetInput(JavaEditor.java:2575)
	at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetInput(JavaEditor.java:2548)
	at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSetInput(CompilationUnitEditor.java:1423)
	at org.eclipse.ui.texteditor.AbstractTextEditor.lambda$1(AbstractTextEditor.java:3179)
	at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2313)
	at org.eclipse.ui.texteditor.AbstractTextEditor.internalInit(AbstractTextEditor.java:3196)
	at org.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.java:3221)
	at org.eclipse.ui.internal.EditorReference.initialize(EditorReference.java:353)
	at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:340)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T15:33:27Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Thanks. Investigating. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T16:24:24Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/150256 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=ea990c8ebd6c7871365f96d891af48631668a65a </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T19:31:58Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Ok, I know what the problem is. I think I have a fix for it. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T21:22:16Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> With the fix, I can do steps in comment 43 without any new errors. I added a new regression test for the found failure. Will attach the new patch shortly. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T21:29:16Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 280077
Proposed patch + regression test </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T21:31:09Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> If someone could trigger a new gerrit build based on this patch, that would be great. I will talk with Manoj on Monday to make sure I am properly setup to run gerrit builds. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:09:50Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Olivier Thomann from comment #62)
> If someone could trigger a new gerrit build based on this patch, that would
> be great. I will talk with Manoj on Monday to make sure I am properly setup
> to run gerrit builds.

Olivier, this patch seem to be not based on latest master, I can't cleanly apply it. Can you please check? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:23:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150280 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:23:59Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150282 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:24:02Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150281 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:26:13Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #63)
> (In reply to Olivier Thomann from comment #62)
> > If someone could trigger a new gerrit build based on this patch, that would
> > be great. I will talk with Manoj on Monday to make sure I am properly setup
> > to run gerrit builds.
> 
> Olivier, this patch seem to be not based on latest master, I can't cleanly
> apply it. Can you please check?

(In reply to Eclipse Genie from comment #64)
> New Gerrit change created: https://git.eclipse.org/r/150280

I was able to apply on top of commit 9f12d0cd798ed9d9863e49b65d95e197dfc5989f, which is *before* the previous patch. So https://git.eclipse.org/r/150280 is NOT based on head that has https://git.eclipse.org/r/150256 in it. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:28:52Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #67)

> I was able to apply on top of commit
> 9f12d0cd798ed9d9863e49b65d95e197dfc5989f, which is *before* the previous
> patch. So https://git.eclipse.org/r/150280 is NOT based on head that has
> https://git.eclipse.org/r/150256 in it.

(In reply to Eclipse Genie from comment #64)
> New Gerrit change created: https://git.eclipse.org/r/150280

(In reply to Eclipse Genie from comment #65)
> New Gerrit change created: https://git.eclipse.org/r/150282

@Andrey: I guess I was a few seconds late this time to push Olivier's patch - so I am abandoning those two in favour of your push of gerrit in comment 66 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:30:23Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #68)
> (In reply to Andrey Loskutov from comment #67)
> 
> > I was able to apply on top of commit
> > 9f12d0cd798ed9d9863e49b65d95e197dfc5989f, which is *before* the previous
> > patch. So https://git.eclipse.org/r/150280 is NOT based on head that has
> > https://git.eclipse.org/r/150256 in it.
> 
> (In reply to Eclipse Genie from comment #64)
> > New Gerrit change created: https://git.eclipse.org/r/150280
> 
> (In reply to Eclipse Genie from comment #65)
> > New Gerrit change created: https://git.eclipse.org/r/150282
> 
> @Andrey: I guess I was a few seconds late this time to push Olivier's patch
> - so I am abandoning those two in favour of your push of gerrit in comment 66

So do I see it right, we should revert ea990c8ebd6c7871365f96d891af48631668a65a before? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:33:38Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #68)
> (In reply to Andrey Loskutov from comment #67)
> 
> > I was able to apply on top of commit
> > 9f12d0cd798ed9d9863e49b65d95e197dfc5989f, which is *before* the previous
> > patch. So https://git.eclipse.org/r/150280 is NOT based on head that has
> > https://git.eclipse.org/r/150256 in it.
> 
> (In reply to Eclipse Genie from comment #64)
> > New Gerrit change created: https://git.eclipse.org/r/150280
> 
> (In reply to Eclipse Genie from comment #65)
> > New Gerrit change created: https://git.eclipse.org/r/150282
> 
> @Andrey: I guess I was a few seconds late this time to push Olivier's patch
> - so I am abandoning those two in favour of your push of gerrit in comment 66

Sorry - wrong git numbers mentioned... abandoned https://git.eclipse.org/r/#/c/150281/ and https://git.eclipse.org/r/#/c/150282/ in favour of your gerrit https://git.eclipse.org/r/#/c/150280 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:35:44Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #69)

> So do I see it right, we should revert
> ea990c8ebd6c7871365f96d891af48631668a65a before?

Yes.. you see it right. we should revert ea990c8ebd6c7871365f96d891af48631668a65a  and then apply Olivier's latest patch which is a combined one. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:36:06Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #70)
> 
> Sorry - wrong git numbers mentioned... abandoned
> https://git.eclipse.org/r/#/c/150281/ and
> https://git.eclipse.org/r/#/c/150282/ in favour of your gerrit
> https://git.eclipse.org/r/#/c/150280

Manoj, we should do the opposite. Your two should be used, my abandoned - because my was not based on master head. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:38:33Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Andrey Loskutov from comment #72)
> (In reply to Manoj Palat from comment #70)
> > 
> > Sorry - wrong git numbers mentioned... abandoned
> > https://git.eclipse.org/r/#/c/150281/ and
> > https://git.eclipse.org/r/#/c/150282/ in favour of your gerrit
> > https://git.eclipse.org/r/#/c/150280
> 
> Manoj, we should do the opposite. Your two should be used, my abandoned -
> because my was not based on master head.

Yep.. I thought your patch was a combined one. realized now that is based on earlier head. I will create a combined patch of revert and new patch. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:51:18Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150283 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-27T22:55:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #73)
> earlier head. I will create a combined patch of revert and new patch.

(In reply to Eclipse Genie from comment #74)
> New Gerrit change created: https://git.eclipse.org/r/150283

This is a combined patch of the revert of ea990c8ebd6c7871365f96d891af48631668a65a   and then application of Olivier's latest patch. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T04:12:12Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 280079
Proposed patch + regression test

One last patch. I forgot some null checks when types are not found. Hopefully this is the last one.
Manoj, this should be based on current master contents. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T06:50:05Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/150292 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T09:01:51Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/150292 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=6c9549fcf9bd8f302c52e6a9a4e79bb960f39866 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T09:13:38Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #78)
> Gerrit change https://git.eclipse.org/r/150292 was merged to [master].
> Commit:
> http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
> ?id=6c9549fcf9bd8f302c52e6a9a4e79bb960f39866

I've pushed the change now - thanks Andrey for converting the patch to git. Have requested Sravan to trigger an I-Build immediately to check. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T13:05:25Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #79)
> I've pushed the change now - thanks Andrey for converting the patch to git.
> Have requested Sravan to trigger an I-Build immediately to check.

https://download.eclipse.org/eclipse/downloads/drops4/I20190928-0515/

This is the first I build that has Olivier's changes - I've tested this out successfully (Thanks Olivier)  with the following steps:

1- Download this build.
2 - Launch this build in a workspace that has the latest Eclipse JDT Core sources
3 - Spawn another Eclipse from this workspace

Earlier, This spawned eclipse was either a) crashing immediately or b) crashing once we create a project in Eclipse.

However with the I20190928-0515 I don't see this issue. 
Andrey, Olivier: Could you please test this out as well to be sure... </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T14:52:56Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Do not see this error in the new build 
Eclipse SDK

Version: 2019-12 (4.14)
Build id: I20190928-0515 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T18:33:32Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Looks ok to me. Closing for now. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-09-28T19:52:24Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Olivier Thomann from comment #82)
> Looks ok to me. Closing for now.

Thanks Olivier! </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-10-10T05:52:55Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Verified for 4.14 M1 using build I20191009-1800 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2019-10-10T09:32:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Jay Arthanareeswaran from comment #84)
> Verified for 4.14 M1 using build I20191009-1800
This should probably be merged to BETA for the next Marketplace update. </td> </tr>
        </table>
</body>
</html>

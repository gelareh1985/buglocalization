<html>

<style>
html{
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ;
    font-size: 17px;
    display: table;
}
table,th,td {
  border: 1px solid black;
  width: 1200;
  text-align:justify;
  word-break:break-all;
}

th{
background-color: lightskyblue;
font-size: 16px;
border: none;
text-align:left;
}

td{
background-color: #d5e3c8;
font-size: 14px;
}

.container {
  position: relative;
  text-align:center;
  padding-top: 70%;
}

.responsive-iframe {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
  height: 100%;
  border: 2px solid #73AD21;
}

</style>
<body>

<h2>Bug report Information</h2>
<table>

    <th colspan="2"> Bug Report </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bug Report Number </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 564289 </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Summary </td>
        <td  style="width: 80%; background-color:#f7fff0;"> [11] The type java.lang.String cannot be resolved. It is indirectly referenced from required .class files </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Creation Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2020-06-15T08:36:09Z </td>
    </tr>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Status </td>
        <td  style="width: 80%; background-color:#f7fff0;"> VERIFIED </td>
    </tr>

    <th colspan="2"> Bug Fix </th>
    <tr>
        <td  style="width: 20%; background-color:#d5e3c8;"> Bugfix Commit </td>
        <td  style="width: 80%; background-color:#f7fff0;"> Bug 222083 - [formatter] Formatting bug for GWT code

Change-Id: Ide86d89801f2812cee49a0da207483789aac7155
Signed-off-by: Mateusz Matela <mateusz.matela@gmail.com>
 </td>
    </tr>
    <tr>
        <td  tyle="width: 20%; background-color:#d5e3c8;"> Bugfix Time </td>
        <td  style="width: 80%; background-color:#f7fff0;"> 2020-09-25T14:47:04Z </td>
    </tr>
    </table>
<table>

<th colspan="2"> Ranked List of Class Diagrams </th>

<tr>
<td  style="width: 20%; font-size: 10px; background-color:#d5e3c8">

            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> VerifyTests$VerifyClassLoader; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFileToIndexConverter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ModuleUpdater; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> RawGrowableArray; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BindingMap; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFileToIndexConverter; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> JavaModelTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> RawGrowableArray; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Database; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ICodeFormatter; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> GenericsRegressionTest_1_8; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverter; </a> </li>
            </ul>   
            
            <ul>
                <li style="font-weight: bold;"> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ProblemReporter; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ParserTest1_7; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClasspathUtil; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FileSystem; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ASTConverterBugsTestJLS4; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ModuleInfoBuilder; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> PackageInfoTest; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> HandleFactory; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> MethodVerifier; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> RunAllJava10Tests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FinalRoundTestTrigger; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> CommentsPreparator; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> FormatterBugsTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> ClassFile; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BTreeExpensiveTests; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> Factory; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> BinaryModuleDescriptor; </a> </li>
            </ul>   
            
            <ul>
                <li> <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" target="myIframe"> JarClassLoader; </a> </li>
            </ul>   
            
</td>
<td  rowspan="30" style="width: 80%;  background-color:#d5e3c8"> 
    <div class="container">
    <iframe class="responsive-iframe" src="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html" name="myIframe">
        <a href="C:/Users/gelareh/git/buglocalization/plugins/org.sidiff.bug.localization.prediction/src/webpage/image_html_pages/diagram_default.html">SELFHTML</a>
    </iframe>
    </div>
</td>
</tr>
</table>
<table>

<th colspan="2"> Ranked List of Classifiers </th>

                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/util/VerifyTests$VerifyClassLoader; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/nd/indexer/ClassFileToIndexConverter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/ModuleUpdater; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/nd/RawGrowableArray; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/hierarchy/BindingMap; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/pdom/indexer/ClassFileToIndexConverter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/model/JavaModelTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/pdom/RawGrowableArray; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/nd/db/Database; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/ICodeFormatter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/JDTCompilerAdapter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/model/ModuleBuilderTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/core/dom/ASTConverter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; font-weight: bold; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/problem/ProblemReporter; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/model/MementoTests; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/parser/ParserTest1_7; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/nd/DatabaseRef; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_9; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.apt.core/Lorg/eclipse/jdt/apt/core/internal/generatedfile/ClasspathUtil; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/compiler/batch/FileSystem; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JEP286Test; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.model/Lorg/eclipse/jdt/core/tests/dom/ASTConverterBugsTestJLS4; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/AbstractClassFile; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JavadocTest_1_5; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.compiler/Lorg/eclipse/jdt/core/tests/compiler/regression/JavadocTest_1_4; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/builder/ModuleInfoBuilder; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core.tests.builder/Lorg/eclipse/jdt/core/tests/builder/PackageInfoTest; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/util/HandleFactory; </td>
                </tr>

                
                <tr>
                    <td  style="font-size: 12px; background-color:#d5e3c8"> org.eclipse.jdt.core/Lorg/eclipse/jdt/internal/core/hierarchy/HierarchyBuilder; </td>
                </tr>

                </table>
<table>

<th colspan="2"> Discussion </th>

        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T08:36:09Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> For a full description, including how to reproduce, see this post on StackOverflow: https://stackoverflow.com/questions/62325539/eclipse-jdk-11-problem-the-type-java-lang-string-cannot-be-resolved-it-is-indi

The issue does not occur in 2019-03, but does in 2020-03. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T08:50:12Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Please provide all the infornation including steps directly in this bug report. We don't want to depend on external links/reports. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T08:54:30Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 283281
PDf of the stackoverflow page

See attached </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T12:34:07Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to David McKechan from comment #2)
> Created attachment 283281 [details]
> PDf of the stackoverflow page
> 
> See attached
Thanks. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T12:39:19Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to David McKechan from comment #2)
> Created attachment 283281 [details]
> PDf of the stackoverflow page
> 
> See attached

Unable to reproduce the issue - compiles for me with JDK 11 and Eclipse 2020-03. Can you please attach your simple reproducible project to this bug? </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T12:58:16Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Manoj Palat from comment #4)
> (In reply to David McKechan from comment #2)
> > Created attachment 283281 [details]
> > PDf of the stackoverflow page
> > 
> > See attached
> 
> Unable to reproduce the issue - compiles for me with JDK 11 and Eclipse
> 2020-03. Can you please attach your simple reproducible project to this bug?

Don't bother.. could reproduce the issue.. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T12:58:36Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 283282
toy project

That's interesting that you can't reproduce it. Two of my colleagues had the same issue and also the user 'zhekakozlov' from the SO post was able to reproduce it.

I've attached my project.

Thanks </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-15T14:09:23Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to David McKechan from comment #6)
> Created attachment 283282 [details]
> toy project
> 
> That's interesting that you can't reproduce it. Two of my colleagues had the
> same issue and also the user 'zhekakozlov' from the SO post was able to
> reproduce it.
> 
> I've attached my project.
> 
> Thanks

I missed your comment 30s before this :) </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-17T17:45:45Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to David McKechan from comment #7)
> I missed your comment 30s before this :)
Sorry for the noise in comment 4 :(, spoke too fast..

Just an early analysis update : This is a regression from 4.13, 4.12 did not have this issue.

Dev Notes [for Committers]: 
Specifically, the change in LookupEnv. getCachedType0(), line 1490 causes [atleast symptomatic - may not be the root cause though] the issue � which is the commit 1fbf13c28311e9090a4ae402b14adbc440f874ec from the SPB redesign in 07/19 �the following
	packageBinding = packageBinding.getIncarnation(this.module);
	if (packageBinding == null || packageBinding == TheNotFoundPackage)
		return null;
(sidenote: of course, atleast one test fails if the above is commented � to investigate further)
With st: 
LookupEnvironment.getTypeFromCompoundName(char[][], boolean, boolean) line: 1762	
LookupEnvironment.getTypeFromConstantPoolName(char[], int, int, boolean, char[][][], ITypeAnnotationWalker) line: 1792	
LookupEnvironment.getTypeFromConstantPoolName(char[], int, int, boolean, char[][][]) line: 1800	
LookupEnvironment.getTypeFromSignature(char[], int, int, boolean, TypeBinding, char[][][], ITypeAnnotationWalker) line: 1870	
BinaryTypeBinding.createMethod(IBinaryMethod, IBinaryType, long, char[][][]) line: 820	
BinaryTypeBinding.createMethods(IBinaryMethod[], IBinaryType, long, char[][][]) line: 1005	
BinaryTypeBinding.cachePartsFrom(IBinaryType, boolean) line: 565	
LookupEnvironment.createBinaryTypeFrom(IBinaryType, PackageBinding, boolean, AccessRestriction) line: 1055	
LookupEnvironment.createBinaryTypeFrom(IBinaryType, PackageBinding, AccessRestriction) line: 1036	
CompilationUnitProblemFinder(Compiler).accept(IBinaryType, PackageBinding, AccessRestriction) line: 308	
LookupEnvironment.askForType(char[][], ModuleBinding) line: 257	
UnresolvedReferenceBinding.resolve(LookupEnvironment, boolean) line: 114	
BinaryTypeBinding.resolveType(TypeBinding, LookupEnvironment, boolean) line: 243	
BinaryTypeBinding.resolveTypesFor(MethodBinding) line: 1680	
MethodVerifier.computeSubstituteMethod(MethodBinding, MethodBinding, LookupEnvironment) line: 715	
MethodVerifier15(MethodVerifier).computeSubstituteMethod(MethodBinding, MethodBinding) line: 706	
MethodVerifier15.isInterfaceMethodImplemented(MethodBinding, MethodBinding, ReferenceBinding) line: 971	
MethodVerifier15(MethodVerifier).computeInheritedMethods(ReferenceBinding, ReferenceBinding[]) line: 650	
MethodVerifier15(MethodVerifier).computeInheritedMethods() line: 514	
MethodVerifier15(MethodVerifier).verify() line: 1012	
MethodVerifier15.verify() line: 1022	
MethodVerifier15(MethodVerifier).verify(SourceTypeBinding) line: 1022	
LocalTypeBinding(SourceTypeBinding).verifyMethods(MethodVerifier) line: 3093	
ClassScope.buildAnonymousTypeBinding(SourceTypeBinding, ReferenceBinding) line: 127	
MethodScope(BlockScope).addAnonymousType(TypeDeclaration, ReferenceBinding) line: 101	
QualifiedAllocationExpression.getAnonymousConstructorBinding(ReferenceBinding, BlockScope) line: 665	
QualifiedAllocationExpression.resolveTypeForQualifiedAllocationExpression(BlockScope) line: 557	
QualifiedAllocationExpression.resolveType(BlockScope) line: 304	
BinaryExpression.resolveType(BlockScope) line: 1832	
MessageSend.resolveType(BlockScope) line: 793	
MessageSend(Expression).resolve(BlockScope) line: 1082	
MethodDeclaration(AbstractMethodDeclaration).resolveStatements() line: 660	
MethodDeclaration.resolveStatements() line: 361	
MethodDeclaration(AbstractMethodDeclaration).resolve(ClassScope) line: 569	
TypeDeclaration.resolve() line: 1490	
TypeDeclaration.resolve(CompilationUnitScope) line: 1615	
CompilationUnitDeclaration.resolve() line: 667	
CompilationUnitProblemFinder(Compiler).resolve(CompilationUnitDeclaration, ICompilationUnit, boolean, boolean, boolean) line: 1073	
CompilationUnitProblemFinder.process(CompilationUnit, SourceElementParser, WorkingCopyOwner, HashMap, boolean, int, IProgressMonitor) line: 272	
CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 192	
CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 268	
CompilationUnit(JavaElement).openWhenClosed(Object, boolean, IProgressMonitor) line: 596	
CompilationUnit.makeConsistent(int, boolean, int, HashMap, IProgressMonitor) line: 1141	
ReconcileWorkingCopyOperation.makeConsistent(CompilationUnit) line: 173	
ReconcileWorkingCopyOperation.executeOperation() line: 94	
ReconcileWorkingCopyOperation(JavaModelOperation).run(IProgressMonitor) line: 736	

The packageBinding for �java� has a PlainPB returned with the enclosing unnamed module being the incarnation.

and then return packageBinding.getType0(compoundName[compoundName.length - 1]);
checks this(PlainPackBinding).knownTypes which has TheNotFoundType  ProblemReferenceBinding for String (and System).

In ST, NameLookup.findType(String, String, boolean, int, boolean, boolean, boolean, IProgressMonitor, IPackageFragmentRoot[]) line: 799	
NameLookup.findType(String, String, boolean, int, boolean, IPackageFragmentRoot[]) line: 718	
CancelableNameEnvironment(SearchableEnvironment).find(String, String, IPackageFragmentRoot[]) line: 165	
CancelableNameEnvironment(SearchableEnvironment).findType(char[], char[][], char[]) line: 478	
LookupEnvironment.fromSplitPackageOrOracle(IModuleAwareNameEnvironment, ModuleBinding, PackageBinding, char[]) line: 424	
LookupEnvironment.lambda$1(IModuleAwareNameEnvironment, PackageBinding, char[], ModuleBinding) line: 297	
198981131.apply(Object) line: not available	
LookupEnvironment.askForTypeFromModules(ModuleBinding, ModuleBinding[], Function<ModuleBinding,NameEnvironmentAnswer>) line: 391	
LookupEnvironment.askForType(PackageBinding, char[], ModuleBinding) line: 296	
PlainPackageBinding(PackageBinding).getTypeOrPackage(char[], ModuleBinding, boolean) line: 276	
MethodScope(Scope).getTypeOrPackage(char[], int, boolean) line: 3464	
MethodScope(Scope).getType(char[]) line: 3175	
ArrayTypeReference.getTypeBinding(Scope) line: 115	
ArrayTypeReference(TypeReference).internalResolveType(Scope, int) line: 536	
ArrayTypeReference.internalResolveType(Scope, int) line: 202	
ArrayTypeReference(TypeReference).resolveType(BlockScope, boolean, int) line: 638	
ArrayTypeReference(TypeReference).resolveType(BlockScope, boolean) line: 634	
SourceTypeBinding.resolveTypesWithSuspendedTempErrorHandlingPolicy(MethodBinding) line: 2458	
SourceTypeBinding.resolveTypesFor(MethodBinding) line: 2360	
SourceTypeBinding.methods() line: 1958	
SourceTypeBinding.internalFaultInTypeForFieldsAndMethods() line: 1225	
SourceTypeBinding.faultInTypesForFieldsAndMethods() line: 1071	
CompilationUnitScope.faultInTypes() line: 529	
CompilationUnitProblemFinder(Compiler).resolve(CompilationUnitDeclaration, ICompilationUnit, boolean, boolean, boolean) line: 1066	
CompilationUnitProblemFinder.process(CompilationUnit, SourceElementParser, WorkingCopyOwner, HashMap, boolean, int, IProgressMonitor) line: 272	
CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 192	
CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 268	
CompilationUnit(JavaElement).openWhenClosed(Object, boolean, IProgressMonitor) line: 596	
CompilationUnit.makeConsistent(int, boolean, int, HashMap, IProgressMonitor) line: 1141	
ReconcileWorkingCopyOperation.makeConsistent(CompilationUnit) line: 173	
ReconcileWorkingCopyOperation.executeOperation() line: 94	
ReconcileWorkingCopyOperation(JavaModelOperation).run(IProgressMonitor) line: 736	

The NotFoundType  is returned  since that �incarnation� did not have the type �String� and the error is thrown. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-17T18:06:00Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Created attachment 283324
jar to be referenced for test case

A reproducible test case independent of maven:

import net.openhft.chronicle.bytes.BytesMarshallable; 

public class App {
    public static void main(String[] args) {
        System.out.println("BytesMarshallable: " + new BytesMarshallable() {});
    } 
}                    

Additionally, affinity-3.2.3.jar and the attached t.jar should be referenced libraries � with that, the error is reproduced.

Dev Notes:
ST:
LookupEnvironment.getCachedType0(char[][]) line: 1490	
LookupEnvironment.getCachedType(char[][]) line: 1468	
LookupEnvironment.getTypeFromCompoundName(char[][], boolean, boolean) line: 1740	
LookupEnvironment.getTypeFromConstantPoolName(char[], int, int, boolean, char[][][], ITypeAnnotationWalker) line: 1792	
LookupEnvironment.getTypeFromConstantPoolName(char[], int, int, boolean, char[][][]) line: 1800	
LookupEnvironment.getTypeFromSignature(char[], int, int, boolean, TypeBinding, char[][][], ITypeAnnotationWalker) line: 1870	
BinaryTypeBinding.createMethod(IBinaryMethod, IBinaryType, long, char[][][]) line: 820	
BinaryTypeBinding.createMethods(IBinaryMethod[], IBinaryType, long, char[][][]) line: 1005	
BinaryTypeBinding.cachePartsFrom(IBinaryType, boolean) line: 565	
LookupEnvironment.createBinaryTypeFrom(IBinaryType, PackageBinding, boolean, AccessRestriction) line: 1055	
LookupEnvironment.createBinaryTypeFrom(IBinaryType, PackageBinding, AccessRestriction) line: 1036	
CompilationUnitProblemFinder(Compiler).accept(IBinaryType, PackageBinding, AccessRestriction) line: 308	
LookupEnvironment.askForType(char[][], ModuleBinding) line: 257	
UnresolvedReferenceBinding.resolve(LookupEnvironment, boolean) line: 114	
BinaryTypeBinding.resolveType(TypeBinding, LookupEnvironment, boolean) line: 243	
BinaryTypeBinding.resolveTypesFor(MethodBinding) line: 1680	
MethodVerifier.computeSubstituteMethod(MethodBinding, MethodBinding, LookupEnvironment) line: 715	
MethodVerifier15(MethodVerifier).computeSubstituteMethod(MethodBinding, MethodBinding) line: 706	
MethodVerifier15.isInterfaceMethodImplemented(MethodBinding, MethodBinding, ReferenceBinding) line: 971	
MethodVerifier15(MethodVerifier).computeInheritedMethods(ReferenceBinding, ReferenceBinding[]) line: 650	
MethodVerifier15(MethodVerifier).computeInheritedMethods() line: 514	
MethodVerifier15(MethodVerifier).verify() line: 1012	
MethodVerifier15.verify() line: 1022	
MethodVerifier15(MethodVerifier).verify(SourceTypeBinding) line: 1022	
LocalTypeBinding(SourceTypeBinding).verifyMethods(MethodVerifier) line: 3093	
ClassScope.buildAnonymousTypeBinding(SourceTypeBinding, ReferenceBinding) line: 127	
MethodScope(BlockScope).addAnonymousType(TypeDeclaration, ReferenceBinding) line: 101	
QualifiedAllocationExpression.getAnonymousConstructorBinding(ReferenceBinding, BlockScope) line: 665	
QualifiedAllocationExpression.resolveTypeForQualifiedAllocationExpression(BlockScope) line: 557	
QualifiedAllocationExpression.resolveType(BlockScope) line: 304	
BinaryExpression.resolveType(BlockScope) line: 1832	
MessageSend.resolveType(BlockScope) line: 793	
MessageSend(Expression).resolve(BlockScope) line: 1082	
MethodDeclaration(AbstractMethodDeclaration).resolveStatements() line: 660	
MethodDeclaration.resolveStatements() line: 361	
MethodDeclaration(AbstractMethodDeclaration).resolve(ClassScope) line: 569	
TypeDeclaration.resolve() line: 1490	
TypeDeclaration.resolve(CompilationUnitScope) line: 1615	
CompilationUnitDeclaration.resolve() line: 667	
CompilationUnitProblemFinder(Compiler).resolve(CompilationUnitDeclaration, ICompilationUnit, boolean, boolean, boolean) line: 1073	
CompilationUnitProblemFinder.process(CompilationUnit, SourceElementParser, WorkingCopyOwner, HashMap, boolean, int, IProgressMonitor) line: 272	
CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 192	
CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 268	
CompilationUnit(JavaElement).openWhenClosed(Object, boolean, IProgressMonitor) line: 596	
CompilationUnit.makeConsistent(int, boolean, int, HashMap, IProgressMonitor) line: 1141	
ReconcileWorkingCopyOperation.makeConsistent(CompilationUnit) line: 173	

And the similar story as above.

Earlier, at ST:
ModuleBinding$UnNamedModule(ModuleBinding).getVisiblePackage(PackageBinding, char[]) line: 586	
ModuleBinding$UnNamedModule(ModuleBinding).getTopLevelPackage(char[]) line: 552	
LookupEnvironment.getTopLevelPackage(char[]) line: 1654	
CompilationUnitScope.getDefaultImports() line: 681	
CompilationUnitScope.checkAndSetImports() line: 240	
LookupEnvironment.completeTypeBindings() line: 513	
CompilationUnitProblemFinder(Compiler).resolve(CompilationUnitDeclaration, ICompilationUnit, boolean, boolean, boolean) line: 1060	
CompilationUnitProblemFinder.process(CompilationUnit, SourceElementParser, WorkingCopyOwner, HashMap, boolean, int, IProgressMonitor) line: 272	
CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 192	
CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 268	
CompilationUnit(JavaElement).openWhenClosed(Object, boolean, IProgressMonitor) line: 596	
CompilationUnit.makeConsistent(int, boolean, int, HashMap, IProgressMonitor) line: 1141	
ReconcileWorkingCopyOperation.makeConsistent(CompilationUnit) line: 173	
ReconcileWorkingCopyOperation.executeOperation() line: 94	
ReconcileWorkingCopyOperation(JavaModelOperation).run(IProgressMonitor) line: 736	
ReconcileWorkingCopyOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 802	
CompilationUnit.reconcile(int, int, WorkingCopyOwner, IProgressMonitor) line: 1318	
JavaReconcilingStrategy.reconcile(ICompilationUnit, boolean) line: 131	
JavaReconcilingStrategy.access$0(JavaReconcilingStrategy, ICompilationUnit, boolean) line: 113	
JavaReconcilingStrategy$1.run() line: 93	
SafeRunner.run(ISafeRunnable) line: 45	
JavaReconcilingStrategy.reconcile(boolean) line: 90	
JavaReconcilingStrategy.reconcile(IRegion) line: 157	
JavaCompositeReconcilingStrategy(CompositeReconcilingStrategy).reconcile(IRegion) line: 94	
JavaCompositeReconcilingStrategy.reconcile(IRegion) line: 107	
JavaReconciler(MonoReconciler).process(DirtyRegion) line: 76	
AbstractReconciler$BackgroundThread.run() line: 210	
�

With �java�  as the name, and module as unnamed, the unnamed module gets into the list package is created with unnamedModule as enclosing, thanks to the java.lang of affinity-3.2.3 [search for ThreadLifecycleListener in affinity-3.23) and when in the earlier ST, the package returns this incarnation which does not have the �String� in it knownTypes  causing the error. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-18T07:01:53Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> @Stephan: Can you please review https://git.eclipse.org/r/165097 especially the specific points listed there? TIA. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-18T15:56:39Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Regarding validity of this situation I recommend to read https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-classes-after-switching-build-path-to-jdk-10/53824670#53824670

That post also has a few relevant links. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-06-29T12:07:22Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Stephan Herrmann from comment #11)
> Regarding validity of this situation I recommend to read
> https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-
> classes-after-switching-build-path-to-jdk-10/53824670#53824670
> 
> That post also has a few relevant links.

@Stephan: Thanks for the pointer in so� got carried away by the statement �The packages java, java.lang, and java.io are always observable� in the same JLS section 7.4.3 �as you pointed out, with the combination of Section 6.5.5.2 agree that this is illegal and must be rejected by compilers. 
Eclipse should flag a more appropriate error. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-08-25T04:35:32Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> moving this out post 4.17 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-24T06:34:17Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/c/jdt/eclipse.jdt.core/+/165097 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=6ab7e33187f5b78f83c0648e374a7ec7a849f879 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-24T06:37:21Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #14)
> Gerrit change https://git.eclipse.org/r/c/jdt/eclipse.jdt.core/+/165097 was
> merged to [master].
> Commit:
> http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
> ?id=6ab7e33187f5b78f83c0648e374a7ec7a849f879

"Fix" is essentially flagging a more appropriate error as mentioned in comment 12. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-24T13:29:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Reopening to accommodate a review comment from Stephan from the gerrit </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-25T04:22:04Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> New Gerrit change created: https://git.eclipse.org/r/c/jdt/eclipse.jdt.core/+/169872 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-28T04:14:28Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Eclipse Genie from comment #17)
> New Gerrit change created:
> https://git.eclipse.org/r/c/jdt/eclipse.jdt.core/+/169872

Resolved via https://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=3b7b8fa3a4b318895882497b32c9112c677925ad </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-09-28T05:55:35Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Gerrit change https://git.eclipse.org/r/c/jdt/eclipse.jdt.core/+/169872 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=3b7b8fa3a4b318895882497b32c9112c677925ad </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-10-06T06:55:46Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Verified in I20201004-1800 </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2020-10-06T07:00:11Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> One additional observation during testing based on Comment 9 test case.

If affinity-3.2.3.jar is added to project's Module path and t.jar is added to Project's Class path, no error is reported and running the project works as expected.

But if the t.jar is added to the project's Module path instead and the application is run, the below error is reported

Exception in thread "main" java.lang.NoClassDefFoundError: net/openhft/chronicle/bytes/BytesMarshallable
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)
	at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:825)
	at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:723)
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:646)
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:604)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)
	at App.main(App.java:5)
Caused by: java.lang.ClassNotFoundException: net.openhft.chronicle.bytes.BytesMarshallable
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)
	... 10 more </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2021-03-21T20:03:31Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> Hello I still have the same bug on the eclipse version java-2021-03.
The code doesnt compile with java-11. </td> </tr>
        
        <tr>
            <td style="width: 20%; font-size: 12px; background-color:#d5e3c8"> Creation Time </td>
            <td style="width: 80%; font-size: 12px; background-color:#d5e3c8"> 2021-03-21T20:31:58Z </td>
        </tr>
        <tr> <td colspan="2" style="font-size: 12px; background-color:#f7fff0"> (In reply to Cedric Nabaa from comment #22)
> Hello I still have the same bug on the eclipse version java-2021-03.
> The code doesnt compile with java-11.

Please create new bug and provide there steps to reproduce. </td> </tr>
        </table>
</body>
</html>
